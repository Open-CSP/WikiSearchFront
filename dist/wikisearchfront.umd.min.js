(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["wikisearchfront"]=e(require("vue")):t["wikisearchfront"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s="fb15")}({"0075":function(t,e,s){"use strict";s("eb7e")},"00ee":function(t,e,s){"use strict";var i=s("b622"),r=i("toStringTag"),n={};n[r]="z",t.exports="[object z]"===String(n)},"0102":function(t,e,s){},"0366":function(t,e,s){"use strict";var i=s("4625"),r=s("59ed"),n=s("40d5"),a=i(i.bind);t.exports=function(t,e){return r(t),void 0===e?t:n?a(t,e):function(){return t.apply(e,arguments)}}},"04f8":function(t,e,s){"use strict";var i=s("1212"),r=s("d039"),n=s("cfe9"),a=n.String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},"05a0":function(t,e,s){"use strict";s("d249")},"06cf":function(t,e,s){"use strict";var i=s("83ab"),r=s("c65b"),n=s("d1e7"),a=s("5c6c"),o=s("fc6a"),c=s("a04b"),l=s("1a2d"),u=s("0cfb"),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=o(t),e=c(e),u)try{return h(t,e)}catch(s){}if(l(t,e))return a(!r(n.f,t,e),t[e])}},"07fa":function(t,e,s){"use strict";var i=s("50c4");t.exports=function(t){return i(t.length)}},"08fc":function(t,e,s){"use strict";s("e224")},"0c2f":function(t,e,s){"use strict";s("3d9f")},"0cb2":function(t,e,s){"use strict";var i=s("e330"),r=s("7b0b"),n=Math.floor,a=i("".charAt),o=i("".replace),c=i("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,s,i,h,d){var f=s+t.length,p=i.length,m=u;return void 0!==h&&(h=r(h),m=l),o(d,m,(function(r,o){var l;switch(a(o,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,s);case"'":return c(e,f);case"<":l=h[c(o,1,-1)];break;default:var u=+o;if(0===u)return r;if(u>p){var d=n(u/10);return 0===d?r:d<=p?void 0===i[d-1]?a(o,1):i[d-1]+a(o,1):r}l=i[u-1]}return void 0===l?"":l}))}},"0cfb":function(t,e,s){"use strict";var i=s("83ab"),r=s("d039"),n=s("cc12");t.exports=!i&&!r((function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},"0d51":function(t,e,s){"use strict";var i=String;t.exports=function(t){try{return i(t)}catch(e){return"Object"}}},"0f33":function(t,e,s){"use strict";var i=s("cfe9"),r=s("d039"),n=i.RegExp,a=!r((function(){var t=!0;try{n(".","d")}catch(l){t=!1}var e={},s="",i=t?"dgimsy":"gimsy",r=function(t,i){Object.defineProperty(e,t,{get:function(){return s+=i,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in t&&(a.hasIndices="d"),a)r(o,a[o]);var c=Object.getOwnPropertyDescriptor(n.prototype,"flags").get.call(e);return c!==i||s!==i}));t.exports={correct:a}},1212:function(t,e,s){"use strict";var i,r,n=s("cfe9"),a=s("b5db"),o=n.process,c=n.Deno,l=o&&o.versions||c&&c.version,u=l&&l.v8;u&&(i=u.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&a&&(i=a.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),t.exports=r},"13a7":function(t,e,s){"use strict";s("54b8")},"13d2":function(t,e,s){"use strict";var i=s("e330"),r=s("d039"),n=s("1626"),a=s("1a2d"),o=s("83ab"),c=s("5e77").CONFIGURABLE,l=s("8925"),u=s("69f3"),h=u.enforce,d=u.get,f=String,p=Object.defineProperty,m=i("".slice),g=i("".replace),y=i([].join),v=o&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),_=String(String).split("String"),k=t.exports=function(t,e,s){"Symbol("===m(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),s&&s.getter&&(e="get "+e),s&&s.setter&&(e="set "+e),(!a(t,"name")||c&&t.name!==e)&&(o?p(t,"name",{value:e,configurable:!0}):t.name=e),v&&s&&a(s,"arity")&&t.length!==s.arity&&p(t,"length",{value:s.arity});try{s&&a(s,"constructor")&&s.constructor?o&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var i=h(t);return a(i,"source")||(i.source=y(_,"string"==typeof e?e:"")),t};Function.prototype.toString=k((function(){return n(this)&&d(this).source||l(this)}),"toString")},"13d5":function(t,e,s){"use strict";var i=s("23e7"),r=s("d58f").left,n=s("a640"),a=s("1212"),o=s("9adc"),c=!o&&a>79&&a<83,l=c||!n("reduce");i({target:"Array",proto:!0,forced:l},{reduce:function(t){var e=arguments.length;return r(this,t,e,e>1?arguments[1]:void 0)}})},"14d9":function(t,e,s){"use strict";var i=s("23e7"),r=s("7b0b"),n=s("07fa"),a=s("3a34"),o=s("3511"),c=s("d039"),l=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},h=l||!u();i({target:"Array",proto:!0,arity:1,forced:h},{push:function(t){var e=r(this),s=n(e),i=arguments.length;o(s+i);for(var c=0;c<i;c++)e[s]=arguments[c],s++;return a(e,s),s}})},"15a8":function(t,e,s){"use strict";s("6e0c")},1626:function(t,e,s){"use strict";var i="object"==typeof document&&document.all;t.exports="undefined"==typeof i&&void 0!==i?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},"16b4":function(t,e,s){"use strict";s("aa70")},"16d8":function(t,e,s){},"19aa":function(t,e,s){"use strict";var i=s("3a9b"),r=TypeError;t.exports=function(t,e){if(i(e,t))return t;throw new r("Incorrect invocation")}},"1a2d":function(t,e,s){"use strict";var i=s("e330"),r=s("7b0b"),n=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return n(r(t),e)}},"1be4":function(t,e,s){"use strict";var i=s("d066");t.exports=i("document","documentElement")},"1d80":function(t,e,s){"use strict";var i=s("7234"),r=TypeError;t.exports=function(t){if(i(t))throw new r("Can't call method on "+t);return t}},2061:function(t,e,s){},2266:function(t,e,s){"use strict";var i=s("0366"),r=s("c65b"),n=s("825a"),a=s("0d51"),o=s("e95a"),c=s("07fa"),l=s("3a9b"),u=s("9a1f"),h=s("35a1"),d=s("2a62"),f=TypeError,p=function(t,e){this.stopped=t,this.result=e},m=p.prototype;t.exports=function(t,e,s){var g,y,v,_,k,b,w,S=s&&s.that,x=!(!s||!s.AS_ENTRIES),$=!(!s||!s.IS_RECORD),E=!(!s||!s.IS_ITERATOR),C=!(!s||!s.INTERRUPTED),T=i(e,S),D=function(t){return g&&d(g,"normal"),new p(!0,t)},O=function(t){return x?(n(t),C?T(t[0],t[1],D):T(t[0],t[1])):C?T(t,D):T(t)};if($)g=t.iterator;else if(E)g=t;else{if(y=h(t),!y)throw new f(a(t)+" is not iterable");if(o(y)){for(v=0,_=c(t);_>v;v++)if(k=O(t[v]),k&&l(m,k))return k;return new p(!1)}g=u(t,y)}b=$?t.next:g.next;while(!(w=r(b,g)).done){try{k=O(w.value)}catch(M){d(g,"throw",M)}if("object"==typeof k&&k&&l(m,k))return k}return new p(!1)}},"23cb":function(t,e,s){"use strict";var i=s("5926"),r=Math.max,n=Math.min;t.exports=function(t,e){var s=i(t);return s<0?r(s+e,0):n(s,e)}},"23e7":function(t,e,s){"use strict";var i=s("cfe9"),r=s("06cf").f,n=s("9112"),a=s("cb2d"),o=s("6374"),c=s("e893"),l=s("94ca");t.exports=function(t,e){var s,u,h,d,f,p,m=t.target,g=t.global,y=t.stat;if(u=g?i:y?i[m]||o(m,{}):i[m]&&i[m].prototype,u)for(h in e){if(f=e[h],t.dontCallGetSet?(p=r(u,h),d=p&&p.value):d=u[h],s=l(g?h:m+(y?".":"#")+h,t.forced),!s&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(t.sham||d&&d.sham)&&n(f,"sham",!0),a(u,h,f,t)}}},"241c":function(t,e,s){"use strict";var i=s("ca84"),r=s("7839"),n=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},"258d":function(t,e,s){},"271a":function(t,e,s){"use strict";var i=s("cb2d"),r=s("e330"),n=s("577e"),a=s("d6d6"),o=URLSearchParams,c=o.prototype,l=r(c.getAll),u=r(c.has),h=new o("a=1");!h.has("a",2)&&h.has("a",void 0)||i(c,"has",(function(t){var e=arguments.length,s=e<2?void 0:arguments[1];if(e&&void 0===s)return u(this,t);var i=l(this,t);a(e,1);var r=n(s),o=0;while(o<i.length)if(i[o++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},"2a62":function(t,e,s){"use strict";var i=s("c65b"),r=s("825a"),n=s("dc4a");t.exports=function(t,e,s){var a,o;r(t);try{if(a=n(t,"return"),!a){if("throw"===e)throw s;return s}a=i(a,t)}catch(c){o=!0,a=c}if("throw"===e)throw s;if(o)throw a;return r(a),s}},"2ba4":function(t,e,s){"use strict";var i=s("40d5"),r=Function.prototype,n=r.apply,a=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(n):function(){return a.apply(n,arguments)})},"2baa":function(t,e,s){"use strict";t.exports=function(t,e){var s="function"==typeof Iterator&&Iterator.prototype[t];if(s)try{s.call({next:null},e).next()}catch(i){return!0}}},"2de3":function(t,e,s){},"2f62":function(t,e,s){"use strict";(function(t){
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function s(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:i});else{var s=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[i].concat(t.init):i,s.call(this,t)}}function i(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}var i="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},r=i.__VUE_DEVTOOLS_GLOBAL_HOOK__;function n(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){r.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){r.emit("vuex:action",t,e)}),{prepend:!0}))}function a(t,e){return t.filter(e)[0]}function o(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var s=a(e,(function(e){return e.original===t}));if(s)return s.copy;var i=Array.isArray(t)?[]:{};return e.push({original:t,copy:i}),Object.keys(t).forEach((function(s){i[s]=o(t[s],e)})),i}function c(t,e){Object.keys(t).forEach((function(s){return e(t[s],s)}))}function l(t){return null!==t&&"object"===typeof t}function u(t){return t&&"function"===typeof t.then}function h(t,e){return function(){return t(e)}}var d=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var s=t.state;this.state=("function"===typeof s?s():s)||{}},f={namespaced:{configurable:!0}};f.namespaced.get=function(){return!!this._rawModule.namespaced},d.prototype.addChild=function(t,e){this._children[t]=e},d.prototype.removeChild=function(t){delete this._children[t]},d.prototype.getChild=function(t){return this._children[t]},d.prototype.hasChild=function(t){return t in this._children},d.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},d.prototype.forEachChild=function(t){c(this._children,t)},d.prototype.forEachGetter=function(t){this._rawModule.getters&&c(this._rawModule.getters,t)},d.prototype.forEachAction=function(t){this._rawModule.actions&&c(this._rawModule.actions,t)},d.prototype.forEachMutation=function(t){this._rawModule.mutations&&c(this._rawModule.mutations,t)},Object.defineProperties(d.prototype,f);var p=function(t){this.register([],t,!1)};function m(t,e,s){if(e.update(s),s.modules)for(var i in s.modules){if(!e.getChild(i))return void 0;m(t.concat(i),e.getChild(i),s.modules[i])}}p.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},p.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,s){return e=e.getChild(s),t+(e.namespaced?s+"/":"")}),"")},p.prototype.update=function(t){m([],this.root,t)},p.prototype.register=function(t,e,s){var i=this;void 0===s&&(s=!0);var r=new d(e,s);if(0===t.length)this.root=r;else{var n=this.get(t.slice(0,-1));n.addChild(t[t.length-1],r)}e.modules&&c(e.modules,(function(e,r){i.register(t.concat(r),e,s)}))},p.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),s=t[t.length-1],i=e.getChild(s);i&&i.runtime&&e.removeChild(s)},p.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),s=t[t.length-1];return!!e&&e.hasChild(s)};var g;var y=function(t){var e=this;void 0===t&&(t={}),!g&&"undefined"!==typeof window&&window.Vue&&M(window.Vue);var s=t.plugins;void 0===s&&(s=[]);var i=t.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new p(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new g,this._makeLocalGettersCache=Object.create(null);var r=this,a=this,o=a.dispatch,c=a.commit;this.dispatch=function(t,e){return o.call(r,t,e)},this.commit=function(t,e,s){return c.call(r,t,e,s)},this.strict=i;var l=this._modules.root.state;w(this,l,[],this._modules.root),b(this,l),s.forEach((function(t){return t(e)}));var u=void 0!==t.devtools?t.devtools:g.config.devtools;u&&n(this)},v={state:{configurable:!0}};function _(t,e,s){return e.indexOf(t)<0&&(s&&s.prepend?e.unshift(t):e.push(t)),function(){var s=e.indexOf(t);s>-1&&e.splice(s,1)}}function k(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var s=t.state;w(t,s,[],t._modules.root,!0),b(t,s,e)}function b(t,e,s){var i=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,n={};c(r,(function(e,s){n[s]=h(e,t),Object.defineProperty(t.getters,s,{get:function(){return t._vm[s]},enumerable:!0})}));var a=g.config.silent;g.config.silent=!0,t._vm=new g({data:{$$state:e},computed:n}),g.config.silent=a,t.strict&&T(t),i&&(s&&t._withCommit((function(){i._data.$$state=null})),g.nextTick((function(){return i.$destroy()})))}function w(t,e,s,i,r){var n=!s.length,a=t._modules.getNamespace(s);if(i.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=i),!n&&!r){var o=D(e,s.slice(0,-1)),c=s[s.length-1];t._withCommit((function(){g.set(o,c,i.state)}))}var l=i.context=S(t,a,s);i.forEachMutation((function(e,s){var i=a+s;$(t,i,e,l)})),i.forEachAction((function(e,s){var i=e.root?s:a+s,r=e.handler||e;E(t,i,r,l)})),i.forEachGetter((function(e,s){var i=a+s;C(t,i,e,l)})),i.forEachChild((function(i,n){w(t,e,s.concat(n),i,r)}))}function S(t,e,s){var i=""===e,r={dispatch:i?t.dispatch:function(s,i,r){var n=O(s,i,r),a=n.payload,o=n.options,c=n.type;return o&&o.root||(c=e+c),t.dispatch(c,a)},commit:i?t.commit:function(s,i,r){var n=O(s,i,r),a=n.payload,o=n.options,c=n.type;o&&o.root||(c=e+c),t.commit(c,a,o)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return x(t,e)}},state:{get:function(){return D(t.state,s)}}}),r}function x(t,e){if(!t._makeLocalGettersCache[e]){var s={},i=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,i)===e){var n=r.slice(i);Object.defineProperty(s,n,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=s}return t._makeLocalGettersCache[e]}function $(t,e,s,i){var r=t._mutations[e]||(t._mutations[e]=[]);r.push((function(e){s.call(t,i.state,e)}))}function E(t,e,s,i){var r=t._actions[e]||(t._actions[e]=[]);r.push((function(e){var r=s.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return u(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))}function C(t,e,s,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return s(i.state,i.getters,t.state,t.getters)})}function T(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function D(t,e){return e.reduce((function(t,e){return t[e]}),t)}function O(t,e,s){return l(t)&&t.type&&(s=e,e=t,t=t.type),{type:t,payload:e,options:s}}function M(t){g&&t===g||(g=t,s(g))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(t){0},y.prototype.commit=function(t,e,s){var i=this,r=O(t,e,s),n=r.type,a=r.payload,o=(r.options,{type:n,payload:a}),c=this._mutations[n];c&&(this._withCommit((function(){c.forEach((function(t){t(a)}))})),this._subscribers.slice().forEach((function(t){return t(o,i.state)})))},y.prototype.dispatch=function(t,e){var s=this,i=O(t,e),r=i.type,n=i.payload,a={type:r,payload:n},o=this._actions[r];if(o){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(a,s.state)}))}catch(l){0}var c=o.length>1?Promise.all(o.map((function(t){return t(n)}))):o[0](n);return new Promise((function(t,e){c.then((function(e){try{s._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,s.state)}))}catch(l){0}t(e)}),(function(t){try{s._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(a,s.state,t)}))}catch(l){0}e(t)}))}))}},y.prototype.subscribe=function(t,e){return _(t,this._subscribers,e)},y.prototype.subscribeAction=function(t,e){var s="function"===typeof t?{before:t}:t;return _(s,this._actionSubscribers,e)},y.prototype.watch=function(t,e,s){var i=this;return this._watcherVM.$watch((function(){return t(i.state,i.getters)}),e,s)},y.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},y.prototype.registerModule=function(t,e,s){void 0===s&&(s={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),w(this,this.state,t,this._modules.get(t),s.preserveState),b(this,this.state)},y.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var s=D(e.state,t.slice(0,-1));g.delete(s,t[t.length-1])})),k(this)},y.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},y.prototype.hotUpdate=function(t){this._modules.update(t),k(this,!0)},y.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(y.prototype,v);var A=F((function(t,e){var s={};return L(e).forEach((function(e){var i=e.key,r=e.val;s[i]=function(){var e=this.$store.state,s=this.$store.getters;if(t){var i=W(this.$store,"mapState",t);if(!i)return;e=i.context.state,s=i.context.getters}return"function"===typeof r?r.call(this,e,s):e[r]},s[i].vuex=!0})),s})),j=F((function(t,e){var s={};return L(e).forEach((function(e){var i=e.key,r=e.val;s[i]=function(){var e=[],s=arguments.length;while(s--)e[s]=arguments[s];var i=this.$store.commit;if(t){var n=W(this.$store,"mapMutations",t);if(!n)return;i=n.context.commit}return"function"===typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}})),s})),P=F((function(t,e){var s={};return L(e).forEach((function(e){var i=e.key,r=e.val;r=t+r,s[i]=function(){if(!t||W(this.$store,"mapGetters",t))return this.$store.getters[r]},s[i].vuex=!0})),s})),R=F((function(t,e){var s={};return L(e).forEach((function(e){var i=e.key,r=e.val;s[i]=function(){var e=[],s=arguments.length;while(s--)e[s]=arguments[s];var i=this.$store.dispatch;if(t){var n=W(this.$store,"mapActions",t);if(!n)return;i=n.context.dispatch}return"function"===typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}})),s})),I=function(t){return{mapState:A.bind(null,t),mapGetters:P.bind(null,t),mapMutations:j.bind(null,t),mapActions:R.bind(null,t)}};function L(t){return Y(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function Y(t){return Array.isArray(t)||l(t)}function F(t){return function(e,s){return"string"!==typeof e?(s=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,s)}}function W(t,e,s){var i=t._modulesNamespaceMap[s];return i}function z(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var s=t.filter;void 0===s&&(s=function(t,e,s){return!0});var i=t.transformer;void 0===i&&(i=function(t){return t});var r=t.mutationTransformer;void 0===r&&(r=function(t){return t});var n=t.actionFilter;void 0===n&&(n=function(t,e){return!0});var a=t.actionTransformer;void 0===a&&(a=function(t){return t});var c=t.logMutations;void 0===c&&(c=!0);var l=t.logActions;void 0===l&&(l=!0);var u=t.logger;return void 0===u&&(u=console),function(t){var h=o(t.state);"undefined"!==typeof u&&(c&&t.subscribe((function(t,n){var a=o(n);if(s(t,h,a)){var c=q(),l=r(t),d="mutation "+t.type+c;N(u,d,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",i(h)),u.log("%c mutation","color: #03A9F4; font-weight: bold",l),u.log("%c next state","color: #4CAF50; font-weight: bold",i(a)),V(u)}h=a})),l&&t.subscribeAction((function(t,s){if(n(t,s)){var i=q(),r=a(t),o="action "+t.type+i;N(u,o,e),u.log("%c action","color: #03A9F4; font-weight: bold",r),V(u)}})))}}function N(t,e,s){var i=s?t.groupCollapsed:t.group;try{i.call(t,e)}catch(r){t.log(e)}}function V(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function q(){var t=new Date;return" @ "+B(t.getHours(),2)+":"+B(t.getMinutes(),2)+":"+B(t.getSeconds(),2)+"."+B(t.getMilliseconds(),3)}function H(t,e){return new Array(e+1).join(t)}function B(t,e){return H("0",e-t.toString().length)+t}var U={Store:y,install:M,version:"3.6.2",mapState:A,mapMutations:j,mapGetters:P,mapActions:R,createNamespacedHelpers:I,createLogger:z};e["a"]=U}).call(this,s("c8ba"))},3511:function(t,e,s){"use strict";var i=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw i("Maximum allowed index exceeded");return t}},"35a1":function(t,e,s){"use strict";var i=s("f5df"),r=s("dc4a"),n=s("7234"),a=s("3f8c"),o=s("b622"),c=o("iterator");t.exports=function(t){if(!n(t))return r(t,c)||r(t,"@@iterator")||a[i(t)]}},"35c9":function(t,e,s){"use strict";s("2de3")},"37e8":function(t,e,s){"use strict";var i=s("83ab"),r=s("aed9"),n=s("9bf2"),a=s("825a"),o=s("fc6a"),c=s("df75");e.f=i&&!r?Object.defineProperties:function(t,e){a(t);var s,i=o(e),r=c(e),l=r.length,u=0;while(l>u)n.f(t,s=r[u++],i[s]);return t}},"3a34":function(t,e,s){"use strict";var i=s("83ab"),r=s("e8b5"),n=TypeError,a=Object.getOwnPropertyDescriptor,o=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=o?function(t,e){if(r(t)&&!a(t,"length").writable)throw new n("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},"3a9b":function(t,e,s){"use strict";var i=s("e330");t.exports=i({}.isPrototypeOf)},"3d9f":function(t,e,s){},"3f8c":function(t,e,s){"use strict";t.exports={}},"40d2":function(t,e,s){"use strict";s("7eee")},"40d5":function(t,e,s){"use strict";var i=s("d039");t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},4167:function(t,e,s){},"41c0":function(t,e,s){"use strict";s("258d")},"44ad":function(t,e,s){"use strict";var i=s("e330"),r=s("d039"),n=s("c6b6"),a=Object,o=i("".split);t.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===n(t)?o(t,""):a(t)}:a},"44e7":function(t,e,s){"use strict";var i=s("861d"),r=s("c6b6"),n=s("b622"),a=n("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"===r(t))}},"45a9":function(t,e,s){"use strict";s("a51c")},4625:function(t,e,s){"use strict";var i=s("c6b6"),r=s("e330");t.exports=function(t){if("Function"===i(t))return r(t)}},"46c4":function(t,e,s){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},4754:function(t,e,s){"use strict";t.exports=function(t,e){return{value:t,done:e}}},"485a":function(t,e,s){"use strict";var i=s("c65b"),r=s("1626"),n=s("861d"),a=TypeError;t.exports=function(t,e){var s,o;if("string"===e&&r(s=t.toString)&&!n(o=i(s,t)))return o;if(r(s=t.valueOf)&&!n(o=i(s,t)))return o;if("string"!==e&&r(s=t.toString)&&!n(o=i(s,t)))return o;throw new a("Can't convert object to primitive value")}},"48f2":function(t,e,s){},"492a":function(t,e,s){"use strict";s("0102")},"4d64":function(t,e,s){"use strict";var i=s("fc6a"),r=s("23cb"),n=s("07fa"),a=function(t){return function(e,s,a){var o=i(e),c=n(o);if(0===c)return!t&&-1;var l,u=r(a,c);if(t&&s!==s){while(c>u)if(l=o[u++],l!==l)return!0}else for(;c>u;u++)if((t||u in o)&&o[u]===s)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"4d91":function(t,e,s){"use strict";s("9aeb")},"4fb1":function(t,e,s){},"50c4":function(t,e,s){"use strict";var i=s("5926"),r=Math.min;t.exports=function(t){var e=i(t);return e>0?r(e,9007199254740991):0}},5494:function(t,e,s){"use strict";var i=s("83ab"),r=s("e330"),n=s("edd0"),a=URLSearchParams.prototype,o=r(a.forEach);i&&!("size"in a)&&n(a,"size",{get:function(){var t=0;return o(this,(function(){t++})),t},configurable:!0,enumerable:!0})},"54b8":function(t,e,s){},5550:function(t,e,s){"use strict";s("cd33")},5692:function(t,e,s){"use strict";var i=s("c6cd");t.exports=function(t,e){return i[t]||(i[t]=e||{})}},"56ef":function(t,e,s){"use strict";var i=s("d066"),r=s("e330"),n=s("241c"),a=s("7418"),o=s("825a"),c=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=n.f(o(t)),s=a.f;return s?c(e,s(t)):e}},"577e":function(t,e,s){"use strict";var i=s("f5df"),r=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return r(t)}},5926:function(t,e,s){"use strict";var i=s("b42e");t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},"59ed":function(t,e,s){"use strict";var i=s("1626"),r=s("0d51"),n=TypeError;t.exports=function(t){if(i(t))return t;throw new n(r(t)+" is not a function")}},"5b81":function(t,e,s){"use strict";var i=s("23e7"),r=s("c65b"),n=s("e330"),a=s("1d80"),o=s("1626"),c=s("861d"),l=s("44e7"),u=s("577e"),h=s("dc4a"),d=s("90d8"),f=s("0cb2"),p=s("b622"),m=s("c430"),g=p("replace"),y=TypeError,v=n("".indexOf),_=n("".replace),k=n("".slice),b=Math.max;i({target:"String",proto:!0},{replaceAll:function(t,e){var s,i,n,p,w,S,x,$,E,C,T=a(this),D=0,O="";if(c(t)){if(s=l(t),s&&(i=u(a(d(t))),!~v(i,"g")))throw new y("`.replaceAll` does not allow non-global regexes");if(n=h(t,g),n)return r(n,t,T,e);if(m&&s)return _(u(T),t,e)}p=u(T),w=u(t),S=o(e),S||(e=u(e)),x=w.length,$=b(1,x),E=v(p,w);while(-1!==E)C=S?u(e(w,E,p)):f(w,p,E,[],void 0,e),O+=k(p,D,E)+C,D=E+x,E=E+$>p.length?-1:v(p,w,E+$);return D<p.length&&(O+=k(p,D)),O}})},"5c6c":function(t,e,s){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5e77":function(t,e,s){"use strict";var i=s("83ab"),r=s("1a2d"),n=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,o=r(n,"name"),c=o&&"something"===function(){}.name,l=o&&(!i||i&&a(n,"name").configurable);t.exports={EXISTS:o,PROPER:c,CONFIGURABLE:l}},6374:function(t,e,s){"use strict";var i=s("cfe9"),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(s){i[t]=e}return e}},"64bf":function(t,e,s){"use strict";s("7e65")},6964:function(t,e,s){"use strict";var i=s("cb2d");t.exports=function(t,e,s){for(var r in e)i(t,r,e[r],s);return t}},"69f3":function(t,e,s){"use strict";var i,r,n,a=s("cdce"),o=s("cfe9"),c=s("861d"),l=s("9112"),u=s("1a2d"),h=s("c6cd"),d=s("f772"),f=s("d012"),p="Object already initialized",m=o.TypeError,g=o.WeakMap,y=function(t){return n(t)?r(t):i(t,{})},v=function(t){return function(e){var s;if(!c(e)||(s=r(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return s}};if(a||h.state){var _=h.state||(h.state=new g);_.get=_.get,_.has=_.has,_.set=_.set,i=function(t,e){if(_.has(t))throw new m(p);return e.facade=t,_.set(t,e),e},r=function(t){return _.get(t)||{}},n=function(t){return _.has(t)}}else{var k=d("state");f[k]=!0,i=function(t,e){if(u(t,k))throw new m(p);return e.facade=t,l(t,k,e),e},r=function(t){return u(t,k)?t[k]:{}},n=function(t){return u(t,k)}}t.exports={set:i,get:r,has:n,enforce:y,getterFor:v}},"6a09":function(t,e,s){"use strict";s("16d8")},"6e0c":function(t,e,s){},7234:function(t,e,s){"use strict";t.exports=function(t){return null===t||void 0===t}},7418:function(t,e,s){"use strict";e.f=Object.getOwnPropertySymbols},"767d":function(t,e,s){"use strict";s("99a1")},7839:function(t,e,s){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7959:function(t,e,s){},"7b0b":function(t,e,s){"use strict";var i=s("1d80"),r=Object;t.exports=function(t){return r(i(t))}},"7c73":function(t,e,s){"use strict";var i,r=s("825a"),n=s("37e8"),a=s("7839"),o=s("d012"),c=s("1be4"),l=s("cc12"),u=s("f772"),h=">",d="<",f="prototype",p="script",m=u("IE_PROTO"),g=function(){},y=function(t){return d+p+h+t+d+"/"+p+h},v=function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e},_=function(){var t,e=l("iframe"),s="java"+p+":";return e.style.display="none",c.appendChild(e),e.src=String(s),t=e.contentWindow.document,t.open(),t.write(y("document.F=Object")),t.close(),t.F},k=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}k="undefined"!=typeof document?document.domain&&i?v(i):_():v(i);var t=a.length;while(t--)delete k[f][a[t]];return k()};o[m]=!0,t.exports=Object.create||function(t,e){var s;return null!==t?(g[f]=r(t),s=new g,g[f]=null,s[m]=t):s=k(),void 0===e?s:n.f(s,e)}},"7d54":function(t,e,s){"use strict";var i=s("23e7"),r=s("c65b"),n=s("2266"),a=s("59ed"),o=s("825a"),c=s("46c4"),l=s("2a62"),u=s("f99f"),h=u("forEach",TypeError);i({target:"Iterator",proto:!0,real:!0,forced:h},{forEach:function(t){o(this);try{a(t)}catch(i){l(this,"throw",i)}if(h)return r(h,this,t);var e=c(this),s=0;n(e,(function(e){t(e,s++)}),{IS_RECORD:!0})}})},"7e65":function(t,e,s){},"7eee":function(t,e,s){},8097:function(t,e,s){"use strict";s("88ae")},"825a":function(t,e,s){"use strict";var i=s("861d"),r=String,n=TypeError;t.exports=function(t){if(i(t))return t;throw new n(r(t)+" is not an object")}},"83ab":function(t,e,s){"use strict";var i=s("d039");t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,s){"use strict";var i=s("83ab"),r=s("9bf2"),n=s("5c6c");t.exports=function(t,e,s){i?r.f(t,e,n(0,s)):t[e]=s}},8558:function(t,e,s){"use strict";var i=s("cfe9"),r=s("b5db"),n=s("c6b6"),a=function(t){return r.slice(0,t.length)===t};t.exports=function(){return a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":i.Bun&&"string"==typeof Bun.version?"BUN":i.Deno&&"object"==typeof Deno.version?"DENO":"process"===n(i.process)?"NODE":i.window&&i.document?"BROWSER":"REST"}()},"858b":function(t,e,s){"use strict";s("48f2")},"861d":function(t,e,s){"use strict";var i=s("1626");t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},"88a7":function(t,e,s){"use strict";var i=s("cb2d"),r=s("e330"),n=s("577e"),a=s("d6d6"),o=URLSearchParams,c=o.prototype,l=r(c.append),u=r(c["delete"]),h=r(c.forEach),d=r([].push),f=new o("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&i(c,"delete",(function(t){var e=arguments.length,s=e<2?void 0:arguments[1];if(e&&void 0===s)return u(this,t);var i=[];h(this,(function(t,e){d(i,{key:e,value:t})})),a(e,1);var r,o=n(t),c=n(s),f=0,p=0,m=!1,g=i.length;while(f<g)r=i[f++],m||r.key===o?(m=!0,u(this,r.key)):p++;while(p<g)r=i[p++],r.key===o&&r.value===c||l(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},"88ae":function(t,e,s){},8925:function(t,e,s){"use strict";var i=s("e330"),r=s("1626"),n=s("c6cd"),a=i(Function.toString);r(n.inspectSource)||(n.inspectSource=function(t){return a(t)}),t.exports=n.inspectSource},"8bbf":function(e,s){e.exports=t},"8e87":function(t,e,s){"use strict";s("fe9a")},"90d8":function(t,e,s){"use strict";var i=s("c65b"),r=s("1a2d"),n=s("3a9b"),a=s("0f33"),o=s("ad6d"),c=RegExp.prototype;t.exports=a.correct?function(t){return t.flags}:function(t){return a.correct||!n(c,t)||r(t,"flags")?t.flags:i(o,t)}},"90e3":function(t,e,s){"use strict";var i=s("e330"),r=0,n=Math.random(),a=i(1.1.toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++r+n,36)}},"910d":function(t,e,s){"use strict";var i=s("23e7"),r=s("c65b"),n=s("59ed"),a=s("825a"),o=s("46c4"),c=s("c5cc"),l=s("9bdd"),u=s("c430"),h=s("2a62"),d=s("2baa"),f=s("f99f"),p=!u&&!d("filter",(function(){})),m=!u&&!p&&f("filter",TypeError),g=u||p||m,y=c((function(){var t,e,s,i=this.iterator,n=this.predicate,o=this.next;while(1){if(t=a(r(o,i)),e=this.done=!!t.done,e)return;if(s=t.value,l(i,n,[s,this.counter++],!0))return s}}));i({target:"Iterator",proto:!0,real:!0,forced:g},{filter:function(t){a(this);try{n(t)}catch(e){h(this,"throw",e)}return m?r(m,this,t):new y(o(this),{predicate:t})}})},9112:function(t,e,s){"use strict";var i=s("83ab"),r=s("9bf2"),n=s("5c6c");t.exports=i?function(t,e,s){return r.f(t,e,n(1,s))}:function(t,e,s){return t[e]=s,t}},9485:function(t,e,s){"use strict";var i=s("23e7"),r=s("2266"),n=s("59ed"),a=s("825a"),o=s("46c4"),c=s("2a62"),l=s("f99f"),u=s("2ba4"),h=s("d039"),d=TypeError,f=h((function(){[].keys().reduce((function(){}),void 0)})),p=!f&&l("reduce",d);i({target:"Iterator",proto:!0,real:!0,forced:f||p},{reduce:function(t){a(this);try{n(t)}catch(h){c(this,"throw",h)}var e=arguments.length<2,s=e?void 0:arguments[1];if(p)return u(p,this,e?[t]:[t,s]);var i=o(this),l=0;if(r(i,(function(i){e?(e=!1,s=i):s=t(s,i,l),l++}),{IS_RECORD:!0}),e)throw new d("Reduce of empty iterator with no initial value");return s}})},"94ca":function(t,e,s){"use strict";var i=s("d039"),r=s("1626"),n=/#|\.prototype\./,a=function(t,e){var s=c[o(t)];return s===u||s!==l&&(r(e)?i(e):!!e)},o=a.normalize=function(t){return String(t).replace(n,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},"99a1":function(t,e,s){},"9a1f":function(t,e,s){"use strict";var i=s("c65b"),r=s("59ed"),n=s("825a"),a=s("0d51"),o=s("35a1"),c=TypeError;t.exports=function(t,e){var s=arguments.length<2?o(t):e;if(r(s))return n(i(s,t));throw new c(a(t)+" is not iterable")}},"9adc":function(t,e,s){"use strict";var i=s("8558");t.exports="NODE"===i},"9aeb":function(t,e,s){},"9bdd":function(t,e,s){"use strict";var i=s("825a"),r=s("2a62");t.exports=function(t,e,s,n){try{return n?e(i(s)[0],s[1]):e(s)}catch(a){r(t,"throw",a)}}},"9bf2":function(t,e,s){"use strict";var i=s("83ab"),r=s("0cfb"),n=s("aed9"),a=s("825a"),o=s("a04b"),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";e.f=i?n?function(t,e,s){if(a(t),e=o(e),a(s),"function"===typeof t&&"prototype"===e&&"value"in s&&f in s&&!s[f]){var i=u(t,e);i&&i[f]&&(t[e]=s.value,s={configurable:d in s?s[d]:i[d],enumerable:h in s?s[h]:i[h],writable:!1})}return l(t,e,s)}:l:function(t,e,s){if(a(t),e=o(e),a(s),r)try{return l(t,e,s)}catch(i){}if("get"in s||"set"in s)throw new c("Accessors not supported");return"value"in s&&(t[e]=s.value),t}},a04b:function(t,e,s){"use strict";var i=s("c04e"),r=s("d9b5");t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},a4c3:function(t,e,s){},a51c:function(t,e,s){},a640:function(t,e,s){"use strict";var i=s("d039");t.exports=function(t,e){var s=[][t];return!!s&&i((function(){s.call(null,e||function(){return 1},1)}))}},aa70:function(t,e,s){},ab43:function(t,e,s){"use strict";var i=s("23e7"),r=s("c65b"),n=s("59ed"),a=s("825a"),o=s("46c4"),c=s("c5cc"),l=s("9bdd"),u=s("2a62"),h=s("2baa"),d=s("f99f"),f=s("c430"),p=!f&&!h("map",(function(){})),m=!f&&!p&&d("map",TypeError),g=f||p||m,y=c((function(){var t=this.iterator,e=a(r(this.next,t)),s=this.done=!!e.done;if(!s)return l(t,this.mapper,[e.value,this.counter++],!0)}));i({target:"Iterator",proto:!0,real:!0,forced:g},{map:function(t){a(this);try{n(t)}catch(e){u(this,"throw",e)}return m?r(m,this,t):new y(o(this),{mapper:t})}})},ad6d:function(t,e,s){"use strict";var i=s("825a");t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},ae93:function(t,e,s){"use strict";var i,r,n,a=s("d039"),o=s("1626"),c=s("861d"),l=s("7c73"),u=s("e163"),h=s("cb2d"),d=s("b622"),f=s("c430"),p=d("iterator"),m=!1;[].keys&&(n=[].keys(),"next"in n?(r=u(u(n)),r!==Object.prototype&&(i=r)):m=!0);var g=!c(i)||a((function(){var t={};return i[p].call(t)!==t}));g?i={}:f&&(i=l(i)),o(i[p])||h(i,p,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:m}},aed9:function(t,e,s){"use strict";var i=s("83ab"),r=s("d039");t.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b42e:function(t,e,s){"use strict";var i=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var e=+t;return(e>0?r:i)(e)}},b59b:function(t,e,s){},b5db:function(t,e,s){"use strict";var i=s("cfe9"),r=i.navigator,n=r&&r.userAgent;t.exports=n?String(n):""},b622:function(t,e,s){"use strict";var i=s("cfe9"),r=s("5692"),n=s("1a2d"),a=s("90e3"),o=s("04f8"),c=s("fdbf"),l=i.Symbol,u=r("wks"),h=c?l["for"]||l:l&&l.withoutSetter||a;t.exports=function(t){return n(u,t)||(u[t]=o&&n(l,t)?l[t]:h("Symbol."+t)),u[t]}},b64e:function(t,e,s){"use strict";var i=s("2a62");t.exports=function(t,e,s){for(var r=t.length-1;r>=0;r--)if(void 0!==t[r])try{s=i(t[r].iterator,e,s)}catch(n){e="throw",s=n}if("throw"===e)throw s;return s}},c04e:function(t,e,s){"use strict";var i=s("c65b"),r=s("861d"),n=s("d9b5"),a=s("dc4a"),o=s("485a"),c=s("b622"),l=TypeError,u=c("toPrimitive");t.exports=function(t,e){if(!r(t)||n(t))return t;var s,c=a(t,u);if(c){if(void 0===e&&(e="default"),s=i(c,t,e),!r(s)||n(s))return s;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},c07c:function(t,e,s){},c430:function(t,e,s){"use strict";t.exports=!1},c5cc:function(t,e,s){"use strict";var i=s("c65b"),r=s("7c73"),n=s("9112"),a=s("6964"),o=s("b622"),c=s("69f3"),l=s("dc4a"),u=s("ae93").IteratorPrototype,h=s("4754"),d=s("2a62"),f=s("b64e"),p=o("toStringTag"),m="IteratorHelper",g="WrapForValidIterator",y="normal",v="throw",_=c.set,k=function(t){var e=c.getterFor(t?g:m);return a(r(u),{next:function(){var s=e(this);if(t)return s.nextHandler();if(s.done)return h(void 0,!0);try{var i=s.nextHandler();return s.returnHandlerResult?i:h(i,s.done)}catch(r){throw s.done=!0,r}},return:function(){var s=e(this),r=s.iterator;if(s.done=!0,t){var n=l(r,"return");return n?i(n,r):h(void 0,!0)}if(s.inner)try{d(s.inner.iterator,y)}catch(a){return d(r,v,a)}if(s.openIters)try{f(s.openIters,y)}catch(a){return d(r,v,a)}return r&&d(r,y),h(void 0,!0)}})},b=k(!0),w=k(!1);n(w,p,"Iterator Helper"),t.exports=function(t,e,s){var i=function(i,r){r?(r.iterator=i.iterator,r.next=i.next):r=i,r.type=e?g:m,r.returnHandlerResult=!!s,r.nextHandler=t,r.counter=0,r.done=!1,_(this,r)};return i.prototype=e?b:w,i}},c65b:function(t,e,s){"use strict";var i=s("40d5"),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},c6b6:function(t,e,s){"use strict";var i=s("e330"),r=i({}.toString),n=i("".slice);t.exports=function(t){return n(r(t),8,-1)}},c6cd:function(t,e,s){"use strict";var i=s("c430"),r=s("cfe9"),n=s("6374"),a="__core-js_shared__",o=t.exports=r[a]||n(a,{});(o.versions||(o.versions=[])).push({version:"3.45.1",mode:i?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})},c8ba:function(t,e){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(i){"object"===typeof window&&(s=window)}t.exports=s},c972:function(t,e,s){"use strict";s("7959")},ca84:function(t,e,s){"use strict";var i=s("e330"),r=s("1a2d"),n=s("fc6a"),a=s("4d64").indexOf,o=s("d012"),c=i([].push);t.exports=function(t,e){var s,i=n(t),l=0,u=[];for(s in i)!r(o,s)&&r(i,s)&&c(u,s);while(e.length>l)r(i,s=e[l++])&&(~a(u,s)||c(u,s));return u}},cb2d:function(t,e,s){"use strict";var i=s("1626"),r=s("9bf2"),n=s("13d2"),a=s("6374");t.exports=function(t,e,s,o){o||(o={});var c=o.enumerable,l=void 0!==o.name?o.name:e;if(i(s)&&n(s,l,o),o.global)c?t[e]=s:a(e,s);else{try{o.unsafe?t[e]&&(c=!0):delete t[e]}catch(u){}c?t[e]=s:r.f(t,e,{value:s,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}},cc12:function(t,e,s){"use strict";var i=s("cfe9"),r=s("861d"),n=i.document,a=r(n)&&r(n.createElement);t.exports=function(t){return a?n.createElement(t):{}}},cd33:function(t,e,s){},cdce:function(t,e,s){"use strict";var i=s("cfe9"),r=s("1626"),n=i.WeakMap;t.exports=r(n)&&/native code/.test(String(n))},cfe9:function(t,e,s){"use strict";(function(e){var s=function(t){return t&&t.Math===Math&&t};t.exports=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof e&&e)||s("object"==typeof this&&this)||function(){return this}()||Function("return this")()}).call(this,s("c8ba"))},d012:function(t,e,s){"use strict";t.exports={}},d039:function(t,e,s){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,s){"use strict";var i=s("cfe9"),r=s("1626"),n=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?n(i[t]):i[t]&&i[t][e]}},d0a1:function(t,e,s){"use strict";s("b59b")},d15b:function(t,e,s){},d1e7:function(t,e,s){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!i.call({1:2},1);e.f=n?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},d1ff:function(t,e,s){"use strict";s("d15b")},d249:function(t,e,s){},d58f:function(t,e,s){"use strict";var i=s("59ed"),r=s("7b0b"),n=s("44ad"),a=s("07fa"),o=TypeError,c="Reduce of empty array with no initial value",l=function(t){return function(e,s,l,u){var h=r(e),d=n(h),f=a(h);if(i(s),0===f&&l<2)throw new o(c);var p=t?f-1:0,m=t?-1:1;if(l<2)while(1){if(p in d){u=d[p],p+=m;break}if(p+=m,t?p<0:f<=p)throw new o(c)}for(;t?p>=0:f>p;p+=m)p in d&&(u=s(u,d[p],p,h));return u}};t.exports={left:l(!1),right:l(!0)}},d625:function(t,e,s){"use strict";s("4fb1")},d6d6:function(t,e,s){"use strict";var i=TypeError;t.exports=function(t,e){if(t<e)throw new i("Not enough arguments");return t}},d9b5:function(t,e,s){"use strict";var i=s("d066"),r=s("1626"),n=s("3a9b"),a=s("fdbf"),o=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&n(e.prototype,o(t))}},dc4a:function(t,e,s){"use strict";var i=s("59ed"),r=s("7234");t.exports=function(t,e){var s=t[e];return r(s)?void 0:i(s)}},dea9:function(t,e,s){"use strict";s("4167")},df75:function(t,e,s){"use strict";var i=s("ca84"),r=s("7839");t.exports=Object.keys||function(t){return i(t,r)}},e163:function(t,e,s){"use strict";var i=s("1a2d"),r=s("1626"),n=s("7b0b"),a=s("f772"),o=s("e177"),c=a("IE_PROTO"),l=Object,u=l.prototype;t.exports=o?l.getPrototypeOf:function(t){var e=n(t);if(i(e,c))return e[c];var s=e.constructor;return r(s)&&e instanceof s?s.prototype:e instanceof l?u:null}},e177:function(t,e,s){"use strict";var i=s("d039");t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e224:function(t,e,s){},e330:function(t,e,s){"use strict";var i=s("40d5"),r=Function.prototype,n=r.call,a=i&&r.bind.bind(n,n);t.exports=i?a:function(t){return function(){return n.apply(t,arguments)}}},e893:function(t,e,s){"use strict";var i=s("1a2d"),r=s("56ef"),n=s("06cf"),a=s("9bf2");t.exports=function(t,e,s){for(var o=r(e),c=a.f,l=n.f,u=0;u<o.length;u++){var h=o[u];i(t,h)||s&&i(s,h)||c(t,h,l(e,h))}}},e8b5:function(t,e,s){"use strict";var i=s("c6b6");t.exports=Array.isArray||function(t){return"Array"===i(t)}},e95a:function(t,e,s){"use strict";var i=s("b622"),r=s("3f8c"),n=i("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[n]===t)}},e9f5:function(t,e,s){"use strict";var i=s("23e7"),r=s("cfe9"),n=s("19aa"),a=s("825a"),o=s("1626"),c=s("e163"),l=s("edd0"),u=s("8418"),h=s("d039"),d=s("1a2d"),f=s("b622"),p=s("ae93").IteratorPrototype,m=s("83ab"),g=s("c430"),y="constructor",v="Iterator",_=f("toStringTag"),k=TypeError,b=r[v],w=g||!o(b)||b.prototype!==p||!h((function(){b({})})),S=function(){if(n(this,p),c(this)===p)throw new k("Abstract class Iterator not directly constructable")},x=function(t,e){m?l(p,t,{configurable:!0,get:function(){return e},set:function(e){if(a(this),this===p)throw new k("You can't redefine this property");d(this,t)?this[t]=e:u(this,t,e)}}):p[t]=e};d(p,_)||x(_,v),!w&&d(p,y)&&p[y]!==Object||x(y,S),S.prototype=p,i({global:!0,constructor:!0,forced:w},{Iterator:S})},eb7e:function(t,e,s){},edd0:function(t,e,s){"use strict";var i=s("13d2"),r=s("9bf2");t.exports=function(t,e,s){return s.get&&i(s.get,e,{getter:!0}),s.set&&i(s.set,e,{setter:!0}),r.f(t,e,s)}},eed3:function(t,e,s){"use strict";s("a4c3")},f000:function(t,e,s){"use strict";s("c07c")},f5df:function(t,e,s){"use strict";var i=s("00ee"),r=s("1626"),n=s("c6b6"),a=s("b622"),o=a("toStringTag"),c=Object,l="Arguments"===n(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(s){}};t.exports=i?n:function(t){var e,s,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(s=u(e=c(t),o))?s:l?n(e):"Object"===(i=n(e))&&r(e.callee)?"Arguments":i}},f772:function(t,e,s){"use strict";var i=s("5692"),r=s("90e3"),n=i("keys");t.exports=function(t){return n[t]||(n[t]=r(t))}},f99f:function(t,e,s){"use strict";var i=s("cfe9");t.exports=function(t,e){var s=i.Iterator,r=s&&s.prototype,n=r&&r[t],a=!1;if(n)try{n.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(o){o instanceof e||(a=!1)}if(!a)return n}},fafc:function(t,e,s){"use strict";s("2061")},fb15:function(t,e,s){"use strict";if(s.r(e),"undefined"!==typeof window){var i=window.document.currentScript,r=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);r&&(s.p=r[1])}var n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"wikisearch",class:[t.selectedClass,t.themeClass,t.sortClass]},[e("search-input"),t.showElement?e("pills-selected"):t._e(),t.settings["sort options"]&&t.showElement?e("sort-order",{attrs:{settings:t.settings}}):t._e(),e("div",{staticClass:"wikisearch-filters",class:{"wikisearch-filters__hidden":t.openFilters}},[e("wikisearch-button",{staticClass:"wssearch-button--hide-filters",attrs:{icon:"close",type:"icon"},on:{click:function(e){t.openFilters=!0}}}),"calendar"===t.settings.layout?e("wikisearch-calendar-tools",{attrs:{outertime:t.$store.state.calendarDate}}):t._e(),t.state.aggs?e("div",{staticClass:"wikisearch-filters__wrapper"},t._l(t.filters,(function(s,i){return e(s.component,{key:i,tag:"component",attrs:{translation:t.facetSettings[i].translation,query:t.facetSettings[i].query,"query-text":t.facetSettings[i].text,"query-data":t.facetSettings[i].data,type:t.facetSettings[i].type,settings:t.facetSettings[i],buckets:s.buckets||[],label:t.facetSettings[i].label,valueLabels:t.facetSettings[i].valueLabels,name:i}})})),1):t._e()],1),e("div",{staticClass:"wikisearch-total"},[e("b",{staticClass:"wikisearch-total__nr"},[e("b",[t._v(t._s(t.resultCountText))])])]),e("div",{staticClass:"wikisearch-action"},[t.settings.action?e("wikisearch-checkbox",{staticClass:"wikisearch-action__checkbox",on:{change:t.selectAll}}):t._e(),t.settings.action?e("wikisearch-button",{staticClass:"wikisearch-action__button",attrs:{label:t.settings.action.label,type:t.state.selectedResults.length?"progressive":""},on:{click:t.doAction}}):t._e()],1),e("div",{staticClass:"wikisearch-results"},[e(t.resultDisplay,{tag:"component"}),t.showElement?e("wikisearch-pagers",{attrs:{size:t.state.size,from:t.state.from,total:t.state.total.value,settings:t.settings}}):t._e()],1),e("wikisearch-button",{staticClass:"wssearch-button--show-filters",attrs:{icon:"settings",label:"Filters",type:"progressive"},on:{click:function(e){t.openFilters=!1}}})],1)])},a=[],o=(s("e9f5"),s("ab43"),s("14d9"),s("910d"),s("7d54"),s("88a7"),s("271a"),s("5494"),s("8bbf")),c=s.n(o),l=s("2f62");function u(t){return parseInt(window.moment(t)/864e5+2440587.5,10)}function h(t){return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}const d=t=>t.trim();var f=d;c.a.use(l["a"]);const{moment:p}=window,m=mw.config.values;function g(t){const e=new URL(window.location.href),{searchParams:s}=e;if(t.from>0?s.set("offset",t.from):s.delete("offset"),t.term?s.set("term",t.term):s.delete("term"),m.WikiSearchFront.config.settings["sort options"]&&(t.sortOrder&&"score"!==t.sortOrderType?s.set("order",t.sortOrder):s.delete("order"),t.sortOrderType&&"score"!==t.sortOrderType?s.set("ordertype",t.sortOrderType):s.delete("ordertype")),t.selected.length){const e=t.selected.map(e=>{let s;return s=e.range?t.realDates[e.value]?`range_${e.value}_${e.key}^^${t.realDates[e.value].from}_${t.realDates[e.value].to}`:`range_${e.value}_${e.key}^^${e.range.gte}_${e.range.lte}`:e.type&&"query"===e.type?`query_${e.key}^^${e.value}`:`${e.key}^^${e.value}`,s}).join("~~");s.set("filters",e)}else s.delete("filters");return e}function y(t,e){const s={},i=new URLSearchParams(window.location.search),r=i.get("term"),n=i.get("offset"),a=i.get("filters"),o=i.get("ordertype"),c=i.get("order");if(r&&(s.term=r),c&&(s.sortOrder=c),o&&(s.sortOrderType=o),n&&(s.from=parseInt(n,10)),a){const i=[],r={range:(r,n,a,o)=>{const[c,l]=n.split("_");let h=c,d=l;"customrange"===a&&(s.realDates=t.realDates,s.realDates.customrange={from:c,to:l});const f=m.WikiSearchFront.config.settings.calendar?m.WikiSearchFront.config.settings.calendar.name:"Modification date";"customrange"!==a&&"date"!==a&&"Modification date"!==o&&o!==f&&"date"!==e[o].type||(s.rangeFrom=u(c),s.rangeTo=u(l),h=s.rangeFrom,d=s.rangeTo),i.push({key:o,value:a,range:{gte:h,lte:d}})},query:(t,e,s)=>{i.push({value:e,key:s,type:"query"})},default:(t,e)=>{i.push({value:e,key:t})}};a.split("~~").forEach(t=>{const[e,s]=t.split("^^"),[i,n,a]=e.split("_");(r[i]||r.default)(e,s,n,a)}),s.selected=i}return s}function v(t,e){const s=p().format("YYYY-MM-DD"),i={"Last Week":{from:p().subtract(7,"days").format("YYYY-MM-DD"),to:s},"Last Month":{from:p().subtract(1,"months").format("YYYY-MM-DD"),to:s},"Last Quarter":{from:p().subtract(1,"quarter").format("YYYY-MM-DD"),to:s}};let r=5;Object.keys(e).forEach(t=>{"date"===e[t].display&&(r=e[t].max)});for(let o=0;o<r;o+=1){const e=t.getFullYear()-o;i[e]={from:e+"-01-01",to:e+1+"-01-01"}}const n=Object.entries(i).map(([t,e])=>({key:t.toString(),from:u(e.from),to:u(e.to)})),a=[];return Object.keys(e).forEach(t=>{"date"===e[t].display&&a.push({type:"range",ranges:n,property:t})}),{facet:a,real:i}}function _(t,e,s){const i=[],{facet:r,real:n}=e;return Object.keys(t).forEach(e=>{const s=t[e];"range"===s.display&&(s.name=e,i.push(s))}),i.length>0&&i.forEach(t=>{const e=parseInt(t.max,10),i=parseInt(t.step,10),a=[];if("date"===t.type)for(let r=0;r<e;r+=1){const t=s.getFullYear()-r;n[t]={from:t+"-01-01",to:t+1+"-01-01"},a.push({key:t.toString(),from:u(t+"-01-01"),to:u(t+1+"-01-01")})}else for(let s=1;s<e+1;s+=i)a.push({from:s,to:e+1,key:s+i-1});r.push({type:"range",ranges:a,property:t.name})}),[r,n]}function k(t){const e={},s=[];t.selected.forEach(t=>{const i=m.WikiSearchFront.config.facetSettings[t.key],r=t;null!==i&&void 0!==i&&i.not&&(r.negate=!0);const n="query"===(null===t||void 0===t?void 0:t.type)?f(r.value):r.value;i&&i.logic&&"or"===i.logic?e[t.key]?e[t.key].push(n):e[t.key]=[n]:"unset"!==r.value&&s.push({...r,value:n})}),Object.keys(e).forEach(t=>{s.push({key:t,value:e[t]})});const i=Object.entries(m.WikiSearchFront.config.facetSettings).filter(([e,s])=>"switch"===s.display&&("unset"!==t.switched[e]||"unset"!==s[s.default])).map(([e,s])=>{const i={key:e,value:t.switched[e]||s[s.default]};return s.not&&(i.negate=!0),i});return[...s,...i]}function b(t){m.WikiSearchFront.config.settings.selected&&(t.selected=m.WikiSearchFront.config.settings.selected.split(";").map(t=>{const[e,s]=t.split(":");return{key:e,value:s}}))}function w(t){const e={};return Object.keys(t).forEach(s=>{if(t[s].valueLabels){const i=t[s].valueLabels.split("~~").map(t=>{const[e,s]=t.split("^^");return{value:e,label:s}}),r={};i.forEach(t=>{r[t.value]=t.label}),e[s]=r}}),console.log("Facet settings:",t),console.log("Value label map:",e),e}const S=t=>{t.subscribe((e,s)=>{if("START"===e.type||"SET_TERM"===e.type||"CLEAR_ALL"===e.type||"SET_FROM"===e.type||"SET_ORDERTYPE"===e.type||"SET_ORDER"===e.type||"SET_SIZE"===e.type||"SET_SELECTED"===e.type||"SET_SWITCHED"===e.type){"SET_FROM"!==e.type&&"START"!==e.type&&t.commit("RESET_FROM"),"START"===e.type&&b(s),t.commit("SET_LOADING"),window.history.replaceState("","",g(s));const i=k(s),r={action:"query",meta:"WikiSearch",format:"json",filter:JSON.stringify(i),term:f(s.term),from:s.from,limit:s.size,pageid:m.wgArticleId,aggregations:JSON.stringify(s.dates)};"true"===m.WikiSearchFront.config.settings["fuzzy search"]&&r.term.trim().length>0&&(r.term=r.term.split(" ").join("~ ").trim().concat("~")),m.WikiSearchFront.config.settings["sort options"]&&"score"!==s.sortOrderType?r.sortings=JSON.stringify([{type:"property",property:s.sortOrderType,order:s.sortOrder}]):m.WikiSearchFront.config.settings.sort&&(r.sortings=JSON.stringify([{type:"property",property:m.WikiSearchFront.config.settings.sort,order:m.WikiSearchFront.config.settings.order||"asc"}])),t.dispatch("doApiCall",{actions:{params:r}})}})},x=new l["a"].Store({state:{loading:!1,selected:[],switched:{},selectedResults:[],ongoingRequest:void 0,selectAllResults:!1,sortOrder:"asc",sortOrderType:"score",hits:"",aggs:"",size:parseInt(m.WikiSearchFront.config.settings.size,10)||10,total:0,from:0,calendarDate:p(),rangeFrom:0,rangeTo:0,term:"",loaded:!1,dates:[],realDates:{},apiCalls:[],renderedTemplates:{},valueLabelMap:w(m.WikiSearchFront.config.facetSettings)},mutations:{SET_TEMPLATES(t,e){t.apiCalls=[],t.renderedTemplates=e},SET_API_CALLS(t,e){t.apiCalls.push(e)},CLEAR_ALL(t){t.selected=[],t.term=""},SET_SELECTED(t,e){t.selected=e},SET_SWITCHED(t,e){t.switched=e},SET_SELECTED_RESULTS(t,e){t.selectedResults=e},SET_SELECT_ALL_RESULTS(t,e){t.selectAllResults=e},SET_CALENDAR_DATE(t,e){t.calendarDate=e},SET_TERM(t,e){t.term=e},SET_ORDER(t,e){t.sortOrder=e},SET_SIZE(t,e){t.size=e},SET_LOADING(t){t.loading=!0},SET_ORDERTYPE(t,e){t.sortOrderType=e},SET_FROM(t,e){t.from=e},RESET_FROM(t){t.from=0},START(t,e){const{facetSettings:s}=m.WikiSearchFront.config;t.loaded=e;const i=new Date,r=v(i,s),[n,a]=_(s,r,i);t.realDates=a,t.dates=n;const o=y(t,s);Object.entries(o).forEach(([e,s])=>{t[e]=s})},SET_RANGE_from(t,e){t.rangeFrom=e},SET_RANGE_to(t,e){t.rangeTo=e},SET_REAL_DATES(t,e){t.realDates=e},SET_FROM_API(t,e){t.hits=e.hits,t.total=e.total,t.aggs=e.aggs,t.loading=!1}},actions:{bundleApiCalls({commit:t},{actions:e}){t("SET_API_CALLS",{text:e.text,index:e.index}),clearTimeout(this.ongoingRequest),this.ongoingRequest=setTimeout(()=>{const e=new mw.Api,s={action:"parse",text:`<div>${x.state.apiCalls.map(t=>`${t.index}^^%%%^^${t.text}`).join("%%^^^%%")}</div>`,format:"json",wrapoutputclass:"",disablelimitreport:!0};e.post(s).done(e=>{if(!e.parse)return;const s=e.parse.text["*"],i=Object.fromEntries(s.substring(5,s.length-6).split("%%^^^%%").map(t=>t.split("^^%%%^^")));t("SET_TEMPLATES",{...x.state.renderedTemplates,...i})})},100)},doApiCall({commit:t},{actions:e}){const s=new mw.Api;mw.hook("wikisearchfrontent-pre-api-call").fire(e.params),s.post(e.params).done(s=>{var i,r;e.component?e.component.apiResult(s):t("SET_FROM_API",{hits:JSON.parse(s.result.hits),total:{value:null!==(i=s.result.total)&&void 0!==i&&i.value?s.result.total.value:s.result.total,relation:null!==(r=s.result.total)&&void 0!==r&&r.relation?s.result.total.relation:"eq"},aggs:s.result.aggs})})}},getters:{rangeFrom(t){return t.rangeFrom},rangeTo(t){return t.rangeTo}},plugins:[S]});function $(t){return t.toLowerCase().replace(/[^a-z0-9]/gim,"_")}function E(t){const e=/</g,s=/>/g,i=/'/g,r=/"/g,n=/{@@_HIGHLIGHT_@@/g,a=/@@_HIGHLIGHT_@@}/g;return t.replace(e,"&lt;").replace(s,"&gt;").replace(i,"&#39;").replace(r,"&#34;").replace(n,'<b class="wikisearch-term-highlight">').replace(a,"</b>")}var C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-search wikisearch--has-button",attrs:{"aria-disabled":"false",role:"search"}},[e("div",{staticClass:"wikisearch-search__wrapper"},[e("div",{ref:"syntax",staticClass:"wikisearch-syntax",domProps:{innerHTML:t._s(t.highlightedTerm)}}),e("wikisearch-input",{attrs:{pending:t.$store.state.loading,clearable:!0,"start-icon":"search",placeholder:t.$i18n("search")},on:{input:t.onInput,enter:t.search,scroll:t.syncScroll,clear:t.clearTerm},model:{value:t.term,callback:function(e){t.term=e},expression:"term"}})],1),e("wikisearch-button",{attrs:{label:t.$i18n("search"),type:"progressive"},on:{click:t.search}}),t.hasInfo?e("wikisearch-tooltip",{scopedSlots:t._u([{key:"slot",fn:function(){return[e("div",{domProps:{innerHTML:t._s(t.highlightedInfo)}})]},proxy:!0},{key:"button",fn:function(){return[e("wikisearch-button",{attrs:{icon:"info",type:"icon"}})]},proxy:!0}],null,!1,2795427984)}):t._e()],1)},T=[],D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-input",class:t.classes},[e("input",t._b({ref:"input",class:{"wikisearch-input__input":!0,"wikisearch-element--pending":t.pending},attrs:{type:"text",tabindex:"0","aria-disabled":"false",readonly:"WikisearchDateInput"===this.$parent.$options.name},domProps:{value:t.computedValue},on:{input:t.onInput,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),e.stopPropagation(),t.$emit("down"))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),e.stopPropagation(),t.$emit("up"))}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},scroll:function(e){return t.$emit("scroll",t.$refs.input)},focus:function(e){return t.$emit("focus")},blur:function(e){return t.$emit("blur")},click:function(e){return t.$emit("click")}}},"input",t.$attrs,!1)),t.startIcon?e("wikisearch-icon",{staticClass:"wikisearch-input__start-icon",attrs:{icon:t.startIcon}}):t._e(),e("span",{on:{click:t.onEndIconClick}},[t.isClearable||t.endIcon?e("wikisearch-icon",{staticClass:"wikisearch-input__end-icon",attrs:{tabindex:t.isClearable?"-1":"",role:t.isClearable?"button":"",icon:t.endIcon||"clear"}}):t._e()],1)],1)},O=[],M=function(){var t=this,e=t._self._c;return e("svg",t._b({staticClass:"wikisearch-icon",class:"wikisearch-icon--"+t.icon,attrs:{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:t.viewBox}},"svg",t.$attrs,!1),[e("title",[t._v(" "+t._s(t.icon)+" ")]),e("path",{attrs:{fill:"currentColor",d:t.path}})])},A=[],j={name:"WikisearchIcon",props:{icon:{type:String,default:""}},computed:{path(){const t={close:"M4.34 2.93 2.93 4.35l5.658 5.652L2.93 15.66l1.41 1.41 5.658-5.658 5.662 5.658 1.41-1.41L11.41 10l5.66-5.66-1.41-1.41L10 8.59 4.34 2.93z",clear:"M10 0a10 10 0 1010 10A10 10 0 0010 0zm5.66 14.24l-1.41 1.41L10 11.41l-4.24 4.25-1.42-1.42L8.59 10 4.34 5.76l1.42-1.42L10 8.59l4.24-4.24 1.41 1.41L11.41 10z",search:"M7.5 13c3.04 0 5.5-2.46 5.5-5.5S10.54 2 7.5 2 2 4.46 2 7.5 4.46 13 7.5 13zm4.55.46A7.432 7.432 0 017.5 15C3.36 15 0 11.64 0 7.5S3.36 0 7.5 0C11.64 0 15 3.36 15 7.5c0 1.71-.57 3.29-1.54 4.55l6.49 6.49-1.41 1.41-6.49-6.49z",next:"M7 1L5.6 2.5 13 10l-7.4 7.5L7 19l9-9z",back:"M4 10l9 9 1.4-1.5L7 10l7.4-7.5L13 1z",down:"M10.085 2.943L6.05 6.803l-3.947-3.86L1.05 3.996l5 5 5-5z",up:"M10.035 9.026L6 5.168 2.053 9.026 1 7.974l5-5 5 5z",info:"M9.5 16A6.61 6.61 0 013 9.5 6.61 6.61 0 019.5 3 6.61 6.61 0 0116 9.5 6.63 6.63 0 019.5 16zm0-14A7.5 7.5 0 1017 9.5 7.5 7.5 0 009.5 2zm.5 6v4.08h1V13H8.07v-.92H9V9H8V8zM9 6h1v1H9z",settings:"M3 4h3v2H3zm9 0h9v2h-9zM8 3h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm-5 8h9v2H3zm15 0h3v2h-3zm-4-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1zM3 18h6v2H3zm12 0h6v2h-6zm-4-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z"};return t[this.icon]},viewBox(){const t={up:"0 0 12 12",down:"0 0 12 12",settings:"0 0 24 24",default:"0 0 20 20"};return t[this.icon]||t.default}}},P=j;s("d1ff");function R(t,e,s,i,r,n,a,o){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=s,l._compiled=!0),i&&(l.functional=!0),n&&(l._scopeId="data-v-"+n),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):r&&(c=o?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}var I=R(P,M,A,!1,null,null,null),L=I.exports,Y={name:"WikisearchInput",components:{WikisearchIcon:L},props:{id:{type:[String,Number],default:""},value:{type:[String,Number],default:""},startIcon:{type:String,default:void 0},endIcon:{type:String,default:void 0},clearable:{type:Boolean,default:!1},pending:{type:Boolean,default:!1}},data(){return{newValue:this.value}},computed:{isClearable(){return this.clearable&&this.computedValue},classes(){return{"wikisearch-input--has-start-icon":!!this.startIcon,"wikisearch-input--has-end-icon":!!this.endIcon||this.clearable,"wikisearch-input--clearable":this.clearable}},computedValue:{get(){return this.newValue},set(t){this.newValue=t,this.$emit("input",t,this.id)}}},watch:{value(t){this.newValue=t}},methods:{onInput(t){this.computedValue=t.target.value},onEndIconClick(){this.clearable&&(this.computedValue="",this.$emit("clear","",this.id))}}},F=Y,W=(s("492a"),R(F,D,O,!1,null,null,null)),z=W.exports,N=function(){var t=this,e=t._self._c;return e("button",{staticClass:"wikisearch-button",class:t.classes,attrs:{type:"button",tabindex:"0","aria-disabled":"false",rel:"nofollow"},on:{click:function(e){return t.$emit("click")}}},[t.icon?e("wikisearch-icon",{staticClass:"wikisearch-button__icon",attrs:{icon:t.icon}}):t._e(),t.label?e("span",{staticClass:"wikisearch-button__label"},[t._v(" "+t._s(t.label)+" ")]):t._e()],1)},V=[],q={name:"WikisearchButton",components:{WikisearchIcon:L},props:{icon:{type:String,default:""},label:{type:String,default:""},type:{type:String,default:"neutral"}},computed:{classes(){const t={"wikisearch-button--has-icon":!!this.icon};return t["wikisearch-button--"+this.type]=!0,t}}},H=q,B=(s("8097"),R(H,N,V,!1,null,null,null)),U=B.exports,G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-tooltip"},[t._t("button"),e("div",{staticClass:"wikisearch-tooltip__popup",attrs:{tabindex:"0"}},[e("span",{staticClass:"wikisearch-tooltip__pivot"}),t._t("slot")],2)],2)},K=[],Z={name:"WikisearchTooltip",data(){return{focused:!1}}},J=Z,X=(s("0c2f"),R(J,G,K,!1,null,null,null)),Q=X.exports,tt={name:"SearchInput",components:{WikisearchInput:z,WikisearchButton:U,WikisearchTooltip:Q},data(){return{typedTerm:"",userHasTyped:!1,infoIsActive:!1}},computed:{hasInfo(){return mw.config.values.WikiSearchFront.config.settings.info},highlightedInfo(){return this.highlight(mw.message("wikisearchfront-info").text())},highlightedTerm(){return this.highlight(E(this.term))},term:{set(t){this.typedTerm=t.replace(/[“”„]/gim,'"'),this.userHasTyped=!0},get(){return this.typedTerm||this.userHasTyped?this.typedTerm:this.$store.state.term}}},methods:{syncScroll(t){this.$refs.syntax.scrollLeft=t.scrollLeft},highlight(t){const e="wikisearch-syntax__item";return t.replace(/(["'])(?:(?=(\\?))\2.)*?\1|~\d/g,`<span class="${e} ${e}--qoute">$&</span>`).replace(/\s(-\w+)/g,` <span class="${e} ${e}--minus">$1</span>`).replace(/\*/gm,`<span class="${e} ${e}--star">*</span>`).replace(/\sOR\s/gm,` <span class="${e} ${e}--or">OR</span> `).replace(/\sAND\s/gm,` <span class="${e} ${e}--and">AND</span> `)},onInput(){mw.config.values.WikiSearchFront.config.settings.searchOnInput&&this.$store.commit("SET_TERM",this.typedTerm)},search(){this.$store.commit("SET_TERM",this.typedTerm||this.term)},clearTerm(){this.typedTerm="",this.$store.commit("SET_TERM","")}}},et=tt,st=(s("40d2"),R(et,C,T,!1,null,null,null)),it=st.exports,rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-selected"},[t._l(t.selected,(function(s,i){return e("wikisearch-pill",{key:i,attrs:{data:s,label:s.name},on:{click:t.deselect}})})),t.selected.length?e("span",{staticClass:"wikisearch-selected__clear",attrs:{tabindex:"-1","aria-label":"Clear",role:"button"},on:{click:t.clearFilters}},[t._v(" "+t._s(t.$i18n("wikisearchfront-clear-all-filters"))+" ")]):t._e()],2)},nt=[],at=function(){var t=this,e=t._self._c;return e("label",{staticClass:"wikisearch-pill",class:t.classes,attrs:{for:t.forKey,tabindex:"0"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("click",t.data)},click:function(e){return e.preventDefault(),e.stopPropagation(),t.$emit("click",t.data)}}},[e("bdi",[t._v(" "+t._s(t.title)+" ")])])},ot=[],ct={name:"WikisearchPill",props:{data:{type:Object,default(){return{}}},label:{type:String,default:""}},computed:{classes(){const t="wikisearch-pill--"+$(this.data.key);return`${t} ${t}__${$(this.data.value)}`},forKey(){return`${$(this.data.key)}--${$(this.data.value)}`},title(){return this.label?this.label:this.data.value}}},lt=ct,ut=(s("eed3"),R(lt,at,ot,!1,null,null,null)),ht=ut.exports,dt={name:"PillsSelected",components:{WikisearchPill:ht},computed:{selected(){const[t,e]=[this.$store.state.selected,this.$store.state.valueLabelMap];return t.forEach((s,i)=>{e[s.key]&&(t[i].name=e[s.key][s.value])}),this.$store.state.selected}},methods:{deselect(t){const e=this.selected.filter(e=>e!==t);this.$store.commit("SET_SELECTED",e)},clearFilters(){mw.config.values.WikiSearchFront.config.settings.clear?this.$store.commit("CLEAR_ALL"):this.$store.commit("SET_SELECTED",[])}}},ft=dt,pt=(s("35c9"),R(ft,rt,nt,!1,null,null,null)),mt=pt.exports,gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-order wikisearch--has-button"},[e("span",{staticClass:"wikisearch-order__label"},[t._v(" "+t._s(t.$i18n("wikisearchfront-order"))+" ")]),e("wikisearch-dropdown",{attrs:{items:t.items,placeholder:"Select an item",value:"score"==t.sortOrderType?{label:t.$i18n("wikisearchfront-score"),data:"score"}:{label:t.sortOrderType,data:t.sortOrderType}},on:{select:t.setSort}}),e("wikisearch-button",{attrs:{icon:"desc"===t.sortOrder?"down":"up",disabled:"score"===t.sortOrderType},on:{click:t.setOrder}})],1)},yt=[],vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-dropdown",class:t.classes},[e("label",{staticClass:"wikisearch-dropdown__select",attrs:{tabindex:"0","aria-disabled":"false"},on:{focus:function(e){t.focused=!0},blur:function(e){t.focused=!1},click:function(e){t.focused=!0},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),e.stopPropagation(),t.$refs.listBox.onDown())}}},[t.selected.length?e("span",{staticClass:"wikisearch-dropdown__selected"},[t._v(" "+t._s(t.selected[0].label)+" ")]):e("span",{staticClass:"wikisearch-dropdown__placeholder"},[t._v(" "+t._s(t.placeholder)+" ")]),e("svg",{staticClass:"wikisearch-dropdown__arrow",attrs:{fill:"none",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{fill:"currentColor",d:"M6 10L12 3.94231L11 3L6 7.98077L1 3L5.2958e-07 3.94231L6 10Z"}})])]),t.focused?e("wikisearch-list-box",{ref:"listBox",attrs:{items:t.items,selected:t.selected},on:{select:t.setSelected}}):t._e()],1)},_t=[],kt=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"wikisearch-list-box",attrs:{role:"listbox"}},t._l(t.filteredItems,(function(s,i){return e("li",{key:"listbox"+s.id+s.label,staticClass:"wikisearch-list-box__item",class:t.itemClasses(s,i),attrs:{id:s.id,role:"option","aria-selected":t.selected.includes(s)},on:{click:function(e){return t.onItemClick(s)},mousedown:function(e){return e.preventDefault(),t.onItemMousedown.apply(null,arguments)},mouseenter:function(e){t.active=i}}},[t._t("menuItem",(function(){return[t._v(" "+t._s(s.label)+" ")]}),{item:s})],2)})),0)},bt=[],wt={name:"WikisearchListBox",props:{items:{type:Array,default(){return[]}},selected:{type:Array,default(){return[]}}},data(){return{active:0}},computed:{filteredItems(){return this.items.filter(t=>"no"!==t.show)}},methods:{onDown(){this.active=this.filteredItems.length-1<=this.active?0:this.active+1},onUp(){this.active=0===this.active?this.filteredItems.length-1:this.active-1},setActiveAsSelected(){this.$emit("select",this.filteredItems[this.active])},itemClasses(t,e){return console.log(t.label,t.doc_count),{"wikisearch-list-box__item--selected":!!this.selected.filter(e=>e.data===t.data).length,"wikisearch-list-box__item--active":this.active===e}},onItemClick(t){this.$emit("select",t)},onItemMousedown(){const t=()=>{document.documentElement.removeEventListener("mouseup",t)};document.documentElement.addEventListener("mouseup",t)}}},St=wt,xt=(s("d0a1"),R(St,kt,bt,!1,null,null,null)),$t=xt.exports,Et={name:"WikisearchDropdown",components:{WikisearchListBox:$t},props:{value:{type:Object,default(){return null}},placeholder:{type:String,default:null},items:{type:Array,default(){return[]}}},data(){return{focused:!1,selected:[this.value],newValue:this.value}},computed:{classes(){return{"wikisearch-dropdown--has-selection":!!this.selected.length}}},watch:{value(t){this.selected=[t]}},methods:{setSelected(t){this.selected=[t],this.$emit("select",t),this.focused=!1}}},Ct=Et,Tt=(s("4d91"),R(Ct,vt,_t,!1,null,null,null)),Dt=Tt.exports,Ot={name:"SortOrder",components:{WikisearchDropdown:Dt,WikisearchButton:U},props:{settings:{type:Object,default(){return{}}}},data(){return{options:this.settings["sort options"]}},computed:{items(){const t=Object.entries(this.options).map(([t,e])=>({label:e.label||t,data:t}));return t.unshift({label:this.$i18n("wikisearchfront-score"),data:"score"}),t},sortOrderType(){const t=this.$store.state.sortOrderType,e=this.options[t];return e&&e.label?e.label:t},sortOrder(){return this.$store.state.sortOrder}},methods:{setSort(t){this.$store.commit("SET_ORDERTYPE",t.data)},setOrder(){return"desc"===this.sortOrder?this.$store.commit("SET_ORDER","asc"):this.$store.commit("SET_ORDER","desc")}}},Mt=Ot,At=(s("16b4"),R(Mt,gt,yt,!1,null,null,null)),jt=At.exports,Pt=function(){var t=this,e=t._self._c;return e("label",{staticClass:"wikisearch-checkbox",class:"wikisearch-checkbox--"+t.id,attrs:{"aria-disabled":"false"}},[e("span",{staticClass:"wikisearch-checkbox__wrapper",attrs:{"aria-disabled":"false"}},[e("input",{staticClass:"wikisearch-checkbox__input",attrs:{id:t.id,type:"checkbox","aria-disabled":"false",tabindex:"0"},domProps:{value:t.value,checked:t.checked},on:{change:function(e){return t.$emit("change",t.value)}}}),e("span",{staticClass:"wikisearch-checkbox__icon",attrs:{"aria-disabled":"false"}})]),e("span",[e("span",{staticClass:"wikisearch-checkbox__label"},[t._t("slot",(function(){return[t._v(" "+t._s(t.label)+" ")]}))],2)])])},Rt=[],It={name:"WikisearchCheckbox",props:{id:{type:String,default:""},label:{type:String,default:""},value:{type:[String,Object,Number,Array],default:void 0},checked:{type:Boolean,default:!1}},data(){return{isChecked:this.checked}}},Lt=It,Yt=(s("6a09"),R(Lt,Pt,Rt,!1,null,null,null)),Ft=Yt.exports,Wt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-pager"},[t.settings["size options"]?e("wikisearch-dropdown",{staticClass:"wikisearch-pager__dropdown",attrs:{items:t.options,value:999==t.size?{label:t.$i18n("wikisearchfront-all"),data:999}:{label:t.size+t.$i18n("wikisearchfront-page"),data:t.size}},on:{select:t.changeSize}}):t._e(),t.total>t.size?e("div",[e("span",{staticClass:"wikisearch-pager__item wikisearch-pager__item--back",class:t.showBack,on:{click:t.back}},[e("wikisearch-icon",{staticClass:"wikisearch-pager__item--back-icon",attrs:{icon:"back"}})],1),e("span",{staticClass:"wikisearch-pager__item",class:t.activePage(1),on:{click:t.move}},[e("span",[t._v(" 1 ")])]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.from/t.size>2&&t.total/t.size>5,expression:"from / size > 2 && total / size > 5"}],staticClass:"wikisearch-pager__item wikisearch--dots",class:t.showBack},[t._v(" ... ")]),t._l(t.pagers,(function(s,i){return e("span",{key:i,staticClass:"wikisearch-pager__item",class:t.activePage(s),on:{click:t.move}},[e("span",[t._v(" "+t._s(s)+" ")])])})),e("span",{directives:[{name:"show",rawName:"v-show",value:t.from/t.size<t.last-3&&t.total/t.size>5,expression:"from / size < last - 3 && total / size > 5"}],staticClass:"wikisearch-pager__item wikisearch--dots"},[t._v(" ... ")]),e("span",{staticClass:"wikisearch-pager__item",class:t.activePage(t.last),on:{click:t.move}},[e("span",[t._v(" "+t._s(t.last)+" ")])]),e("span",{staticClass:"wikisearch-pager__item wikisearch-pager__item--forward",class:t.showForward,on:{click:t.next}},[e("wikisearch-icon",{staticClass:"wikisearch-pager__item--forward-icon",attrs:{icon:"next"}})],1)],2):t._e()],1)},zt=[],Nt={name:"WikisearchPagers",components:{WikisearchDropdown:Dt,WikisearchIcon:L},props:{total:{type:Number,default:0},from:{type:Number,default:0},size:{type:Number,default:0},settings:{type:Object,default(){return{}}}},computed:{options(){const t=this.settings["size options"].map(t=>({label:t+this.$i18n("wikisearchfront-page"),data:t}));return t.push({label:this.$i18n("wikisearchfront-all"),data:999}),t},last(){return Math.ceil(this.total/this.size)},showBack(){return this.from<1?"wikisearch-pager__item--hide":""},showForward(){return this.from+this.size>=this.total?"wikisearch-pager__item--hide":""},pagers(){if(this.total>=this.size){const t=[];let e;const s=Math.ceil(this.total/this.size);if(s>5){if(this.from/this.size<3)for(e=1;e<4;e+=1)t.push(e+1);else if(this.from/this.size>this.last-4)for(e=this.last-4;e<this.last;e+=1)t.push(e);else t.push(this.from/this.size),t.push(this.from/this.size+1),t.push(this.from/this.size+2);return t}for(e=0;e<s;e+=1)e+1>1&&e+1<this.last&&t.push(e+1);return t}return!1}},methods:{changeSize(t){this.$store.commit("SET_SIZE",parseInt(t.data,10))},activePage(t){return t===this.from/this.size+1&&"active"},back(){const t=this.from-this.size;this.$store.commit("SET_FROM",t)},move(t){const e=Math.ceil(this.size*(t.target.innerText-1));this.$store.commit("SET_FROM",e)},next(){const t=this.from+this.size;this.$store.commit("SET_FROM",t)}}},Vt=Nt,qt=(s("13a7"),R(Vt,Wt,zt,!1,null,null,null)),Ht=qt.exports,Bt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-result",class:t.config.settings.layout?"wikisearch-result--layout-"+t.config.settings.layout:""},["table"===t.config.settings.layout?e("div",{staticClass:"wikisearch-result__header"},t._l(t.computedHitSettings,(function(s,i){return e("span",{key:"result-header-item--"+i,staticClass:"wikisearch-result__header-item"},[t._v(" "+t._s(s.label||i.replace(/^\$/,""))+" ")])})),0):t._e(),t._l(t.$store.state.hits,(function(s,i){return e(t.config.settings.title.wrap?"a":"div",{key:"result-item--"+i,tag:"component",staticClass:"wikisearch-result__item",attrs:{href:!!t.config.settings.title.wrap&&t.getHref(s)}},t._l(t.computedHitSettings,(function(t,i){return e("wikisearch-result-property",{key:s["_id"]+i,attrs:{label:i,config:t,data:s}})})),1)}))],2)},Ut=[],Gt=(s("5b81"),function(){var t=this,e=t._self._c;return e("span",{staticClass:"wikisearch-result-property",attrs:{"data-header":t.computedLabel}},[e("span",{staticClass:"wikisearch-result-property__wrapper"},t._l(t.properties,(function(s,i){return e(t.tagName,{key:t.data["_id"]+"_"+t.label+"-"+i,tag:"component",staticClass:"wikisearch-result-property__value",class:"wikisearch-result-property__value--"+t.label.replace("$","-"),attrs:{index:t.data["_id"]+"_"+t.label+"-"+i,data:t.dataForComponent(s),label:t.labelForComponent(s),value:t.valueForComponent(s),src:t.src(s),loading:t.isLazy,href:t.href(s),checked:t.isChecked},on:{click:t.onClick,change:t.onChange}},[t.isHighlichted?e("div",{domProps:{innerHTML:t._s(t.highlightProperty(t.sanitize(s)))}}):[t._v(" "+t._s(s)+" ")]],2)})),1)])}),Kt=[],Zt=function(){var t=this,e=t._self._c;return e("span",{staticClass:"wikisearch-wiki-template",class:t.renderedTemplate?"":"wikisearch-wiki-template--loading wikisearch-element--pending",domProps:{innerHTML:t._s(t.renderedTemplate)}})},Jt=[],Xt={name:"WikisearchWikiTemplate",props:{data:{type:Object,default(){return{}}},index:{type:String,default:""}},data(){return{value:this.data.value}},computed:{renderedTemplate(){return this.$store.state.renderedTemplates[this.index]||""}},watch:{value(){this.parseTemplate()}},mounted(){this.parseTemplate()},methods:{parseTemplate(){this.$store.dispatch("bundleApiCalls",{actions:{index:this.index,text:`{{${this.data.template}\n                 |Page=${this.data.page}\n                 ${this.data.date?"|$date="+this.data.date:""}\n                 |Value=${this.data.value}\n                 }}`}})}}},Qt=Xt,te=(s("45a9"),R(Qt,Zt,Jt,!1,null,null,null)),ee=te.exports,se={name:"WikisearchResultProperties",components:{WikisearchPill:ht,WikisearchCheckbox:Ft,WikisearchWikiTemplate:ee},props:{config:{type:Object,default(){return{}}},label:{type:String,default:""},data:{type:Object,default(){return{}}}},data(){return{articlePath:mw.config.values.wgArticlePath.replace("/$1","").replace("?title=$1",""),scriptPath:mw.config.get("wgScript"),configTitle:mw.config.values.WikiSearchFront.config.settings.title}},computed:{computedLabel(){return this.config.label||this.label.replace(/^\$/,"")},properties(){return"$"===this.label.charAt(0)?this.getUnderscorePropertiesFromData:this.getPropertiesFromData},tagName(){const t={pill:this.properties?ht:"span",link:"a",pdflink:"a",image:"img",template:ee,checkbox:Ft,default:"span",pdf:"img"};return t[this.config.display]||t.default},isHighlichted(){return this.config.highlight||"$snippet"===this.label||"$title"===this.label&&this.configTitle.highlight},isLazy(){return("image"===this.config.display||"pdf"===this.config.display)&&"lazy"},getPropertiesFromData(){const t="_source",e="P:"+this.config.key,s="datField"===this.config.type?"dat_raw":this.config.type,i=this.config.key&&this.data[t]&&this.data[t][e]&&this.data[t][e][s]?this.data[t][e][s]:"";return i&&"datField"===this.config.type?this.formatDates(i):i},getUnderscorePropertiesFromData(){const t="_source",e=this.label.substring(1),s={"Modification date":this.data[t]["P:29"]?this.formatDates(this.data[t]["P:29"].dat_raw):"",page:[this.data[t].subject.title],image:[this.data[t].file_path],namespacename:[this.data[t].subject.namespacename],snippet:this.getSnippets,title:[this.getTitle]};return s[e]||""},getTitle(){const{configTitle:t}=this,e="_source",s=t?"P:"+t.key:"";return t&&t.key&&this.data[e][s]&&this.data[e][s][t.type]?this.data[e][s][t.type][0]:this.data[e].subject.title},getSnippets(){return this.data.highlight?Object.values(this.data.highlight).flat():[]},isChecked(){return this.$store.state.selectAllResults},getUrlString(){return this.$store.state.term?`?${this.configTitle.urlstring}=${this.$store.state.term}`:""}},watch:{isChecked(t){t?this.properties.length&&this.properties.forEach(t=>{this.onChange(t)}):this.$store.commit("SET_SELECTED_RESULTS",[])}},methods:{src(t){if("pdf"===this.config.display){const t="_source",e=this.data[t].subject.title.replaceAll(/\s/g,"_");return`${this.scriptPath}?title=Special:Redirect/file/${e}&width=300`}return"image"===this.config.display&&`${this.articlePath}/${t}`.replaceAll(" ","_")},href(t){const e="_source",{title:s,namespacename:i}=this.data[e].subject;if("$title"===this.label&&"pdflink"!==this.config.display){const t=s.replace(/\?/gim,"%3F"),e=i?i+":":"",r=this.configTitle&&this.configTitle.urlstring?this.getUrlString:"";return`${this.articlePath}/${e}${t}${r}`}if("pdflink"===this.config.display){const t=this.$store.state.term?"&snippet="+encodeURIComponent(this.$store.state.term):"";return`${this.articlePath}/Pdf_viewer?pdf=${encodeURIComponent(s.replaceAll(" ","_"))}${t}`}if("link"===this.config.display){const e=new RegExp("http");return e.test(t)?t.replace(/\s/gim,"_"):`${this.articlePath}/${t.replace(/\s/gim,"_")}`}return!1},labelForComponent(t){const e=this.config.label||t;return("pill"===this.config.display||"checkbox"===this.config.display)&&e},valueForComponent(t){return"checkbox"===this.config.display&&t},dataForComponent(t){if("template"===this.config.display){const e="_source",{title:s,namespacename:i}=this.data[e].subject,r=i?i+":":"",n={key:this.label,value:t,template:this.config.template,page:`${r}${s}`},a=mw.config.values.WikiSearchFront.config.settings.calendar,o=a&&a.key?"P:"+a.key:"P:29";if(this.data[e][o]||this.data[e][o].dat_raw||this.data[e][o].dat_raw[0]){const[,t,s,i]=this.data[e][o].dat_raw[0].split("/");n.date=`${t}-${s}-${i}`}return n}return("pill"===this.config.display||"template"===this.config.display)&&{key:this.label,value:t}},highlightProperty(t){const{term:e}=this.$store.state,s=new RegExp(e,"gmi");return e&&"$snippet"!==this.label?t.replace(s,`<b class="wikisearch-term-highlight">${e}</b>`):t},sanitize(t){return E(t)},formatDates(t){return t.map(t=>{const[,e,s,i]=t.split("/"),r=mw.config.values.wgMonthNames[s];return`${i} ${r}, ${e}`})},onClick(t){if("pill"===this.config.display){const e=[];let s=!1;const i=this.$store.state.selected;i.forEach(i=>{i.key===t.key&&i.value===t.value?s=!0:e.push(i)}),s||e.push(t),this.$store.commit("SET_SELECTED",e)}},onChange(t){if("checkbox"===this.config.display){let{selectedResults:e}=this.$store.state;e.includes(t)?e=e.filter(e=>e!==t):e.push(t),this.$store.commit("SET_SELECTED_RESULTS",e)}}}},ie=se,re=(s("fafc"),R(ie,Gt,Kt,!1,null,null,null)),ne=re.exports,ae={name:"WikisearchResults",components:{WikisearchResultProperty:ne},data(){return{articlePath:mw.config.values.wgArticlePath.replace("/$1","").replace("?title=$1",""),config:mw.config.values.WikiSearchFront.config}},computed:{computedHitSettings(){const t=Object.keys(this.config.hitSettings).filter(t=>"$"===t.charAt(0));if(!t.length){const t={$title:{display:"link",label:"Page"},$snippet:{}},e={$page:{label:"Page title"},"$Modification date":{}};return{...t,...this.config.hitSettings,...e}}return this.config.hitSettings}},methods:{getHref(t){const e=this.config.settings.title,s="_source";if("pdflink"===this.config.settings.title.display||this.config.hitSettings.$title&&"pdflink"===this.config.hitSettings.$title.display){const e=this.$store.state.term?"&snippet="+encodeURIComponent(this.$store.state.term):"";return`${this.articlePath}/Pdf_viewer?pdf=${encodeURIComponent(t[s].subject.title.replaceAll(" ","_"))}${e}`}return t[s]&&t[s]["P:"+e.key]&&t[s]["P:"+e.key][e.type]&&t[s]["P:"+e.key][e.type][0]?t[s]["P:"+e.key][e.type][0]:t[s].subject.title}}},oe=ae,ce=(s("c972"),R(oe,Bt,Ut,!1,null,null,null)),le=ce.exports,ue=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-result-calendar",class:t.baseClass},[e("div",{staticClass:"wikisearch-result-calendar__header"},t._l(t.calendar[0].days,(function(s,i){return e("div",{key:"header-"+i,staticClass:"wikisearch-result-calendar__header-item",class:t.dayClasses(s,"isHeader")},[t._v(" "+t._s(s.format("dd"))+" ")])})),0),t._l(t.calendar,(function(s,i){return e("div",{key:"week-"+i,staticClass:"wikisearch-result-calendar__week"},t._l(s.days,(function(s,r){return e("div",{key:"day-"+i+r,staticClass:"wikisearch-result-calendar__day",class:t.dayClasses(s)},[e("span",{staticClass:"wikisearch-result-calendar__day-number",attrs:{"data-header":s.format("dd")}},[t._v(" "+t._s(s.format("D"))+" ")]),t._l(t.getHit(s.format("YYYY-MM-DD")),(function(i){return e("div",{key:"cal-hit-"+i["_id"],staticClass:"wikisearch-result-calendar__result",class:t.resultClass(i)},t._l(t.computedHitSettings,(function(t,r){return e("wikisearch-result-property",{key:s.format("YYYY-MM-DD")+r,attrs:{label:r,config:t,data:i}})})),1)})),t.config.settings.calendar&&t.config.settings.calendar.template?e("wikisearch-button",{staticClass:"wikisearch-result-calendar__add-item",attrs:{icon:"close",type:"icon"},on:{click:function(e){return t.openDialog(s)}}}):t._e()],2)})),0)})),t.dialog?e("wikisearch-calendar-dialog",{attrs:{date:t.dialog},on:{close:t.closeDialog}}):t._e()],2)},he=[],de=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-dialog__wrapper"},[e("div",{staticClass:"wikisearch-dialog"},[e("div",{staticClass:"wikisearch-dialog__tools",class:t.pending?"wikisearch-element--pending":""},[e("wikisearch-button",{attrs:{label:"Cancel"},on:{click:function(e){return t.$emit("close")}}}),e("div",{staticClass:"wikisearch-dialog__label"},[t._v(" "+t._s(t.date.format("dd, D MMM YYYY"))+" ")]),e("wikisearch-button",{attrs:{label:"Create",type:"progressive"},on:{click:t.writeToWiki}})],1),e("div",{staticClass:"wikisearch-dialog__body"},[e("div",{staticClass:"wikisearch-dialog__field-label"},[t._v(" Page name ")]),e("wikisearch-input",{attrs:{placeholder:"Page name"},on:{input:t.setPageName}}),e("div",{staticClass:"wikisearch-dialog__description"},[t._v(" "+t._s(t.description)+" ")]),t._l(t.templateData.params,(function(s,i){return e("div",{key:"param-"+i,staticClass:"wikisearch-dialog__field"},[e("div",{staticClass:"wikisearch-dialog__field-label"},[t._v(" "+t._s(s.label?s.label.en:i)+" ")]),e("wikisearch-input",{attrs:{id:i,placeholder:i},on:{input:t.updateValues}})],1)}))],2)])])},fe=[],pe={name:"WikisearchCalendarDialog",components:{WikisearchInput:z,WikisearchButton:U},props:{icon:{type:String,default:""},date:{type:Object,default(){return{}}},type:{type:String,default:"neutral"}},data(){return{config:mw.config.values.WikiSearchFront.config.settings.calendar,templateData:{},values:{},pageName:"",pending:!1}},computed:{description(){return this.templateData.description?this.templateData.description.en:""}},mounted(){this.getTemplateData()},methods:{updateValues(t,e){this.values[e]=t},setPageName(t){this.pageName=this.config.prefix?this.config.prefix+t:t},writeToWiki(){this.pending=!0;const t=Object.entries(this.values).map(([t,e])=>`|${t}=${e}`).join("\n"),e=`{{${this.config.template}\n      ${t}\n      |${this.config.name}=${this.date.format("YYYY-MM-DD")}\n      }}`,s={action:"edit",title:this.pageName,text:e,format:"json"};this.config.slot&&(s.slot=this.config.slot,s.action="editslot");const i=new mw.Api,r=this;i.postWithToken("csrf",s).done(()=>{r.$emit("close"),r.pending=!1,r.$store.commit("SET_SELECTED",r.$store.state.selected)})},apiResult(t){t.pages&&(this.templateData=t.pages[Object.keys(t.pages)[0]])},getTemplateData(){const t={action:"templatedata",titles:"Template:"+this.config.template,format:"json",formatversion:2};this.$store.dispatch("doApiCall",{actions:{params:t,component:this}})}}},me=pe,ge=(s("64bf"),R(me,de,fe,!1,null,null,null)),ye=ge.exports,ve={name:"WikisearchResultsCalendar",components:{WikisearchResultProperty:ne,WikisearchButton:U,WikisearchCalendarDialog:ye},data(){return{config:mw.config.values.WikiSearchFront.config,selectedCheckboxes:[],date:window.moment(),today:window.moment(),dialog:""}},computed:{baseClass(){const t=this.config.settings.layout?"wikisearch-result--layout-"+this.config.settings.layout:"",e=this.config.settings.calendar&&"false"===this.config.settings.calendar.weekend?"wikisearch-result-calendar--no-weekend":"";return`${t} ${e}`},time(){return console.log(this.$store.state.selected),this.$store.state.calendarDate||this.date},calendar(){const t=[],e=this.time,s=e.clone().startOf("month").startOf("week"),i=e.clone().endOf("month").endOf("week"),r=s.clone().subtract(1,"day");while(r.isBefore(i,"day"))t.push({days:Array(7).fill(0).map(()=>r.add(1,"day").clone())});return t},computedHitSettings(){const t=Object.keys(this.config.hitSettings).filter(t=>"$"===t.charAt(0));if(!t.length){const t={$title:{display:"link",label:"Page"}};return{...t,...this.config.hitSettings}}return this.config.hitSettings},computedPropertyKey(){const t=this.config.settings.calendar;return t&&t.key?"P:"+t.key:"P:29"}},methods:{resultClass(t){const e="_source",s=this.config.settings.calendar.color;if(s&&s.key&&s.type&&t[e]["P:"+s.key]){const i=t[e]["P:"+s.key][s.type][0];return"wikisearch-result-calendar__result--"+$(i)}return""},closeDialog(){this.dialog=""},openDialog(t){this.dialog=t},dayClasses(t,e){const s=parseInt(t.format("d"),10);return{"wikisearch-result-calendar__day--weekend":0===s||6===s,"wikisearch-result-calendar__day--other-month":!e&&t.format("M")!==this.time.format("M"),"wikisearch-result-calendar__day--today":!e&&this.today.format("YYYY-MM-DD")===t.format("YYYY-MM-DD")}},addZero(t){return 1===t.toString().length?"0"+t:t},getHit(t){const e="_source",s=this.$store.state.hits||[],i=s.filter(s=>{if(!s[e][this.computedPropertyKey]||!s[e][this.computedPropertyKey].dat_raw||!s[e][this.computedPropertyKey].dat_raw[0])return!1;const[,i,r,n]=s[e][this.computedPropertyKey].dat_raw[0].split("/");return t===`${i}-${this.addZero(r)}-${this.addZero(n)}`&&s});return i[0]?i:[]}}},_e=ve,ke=(s("15a8"),R(_e,ue,he,!1,null,null,null)),be=ke.exports,we=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-wiki-template",class:t.loading?"wikisearch-wiki-template--loading wikisearch-element--pending":"",domProps:{innerHTML:t._s(t.result)}})},Se=[],xe={name:"WikisearchResultsTemplate",data(){return{config:mw.config.values.WikiSearchFront.config,configTitle:mw.config.values.WikiSearchFront.config.settings.title,result:"",loading:!1}},computed:{hits(){return this.$store.state.hits},parse(){let t="";return this.config.settings.intro&&(t+=this.config.settings.intro),Array.isArray(this.$store.state.hits)&&this.$store.state.hits.forEach(e=>{t+="{{"+this.config.settings.template,Object.entries(this.computedHitSettings).forEach(([s,i])=>{const r="$"===s.charAt(0)?this.getUnderscorePropertiesFromData(e,s):this.getPropertiesFromData(e,i.key,i.type,s);t+=r?"|"+r:""}),t+="|$term="+f(this.$store.state.term),t+="}}"}),this.config.settings.outro&&(t+=this.config.settings.outro),t},computedHitSettings(){const t=Object.keys(this.config.hitSettings).filter(t=>"$"===t.charAt(0));if(!t.length){const t={$title:{display:"link",label:"Page"},$snippet:{}},e={$page:{label:"Page title"},"$Modification date":{}};return{...t,...this.config.hitSettings,...e}}return this.config.hitSettings}},watch:{hits(){console.log("hits changed, render template"),this.parseTemplate()}},mounted(){this.parseTemplate()},methods:{getPropertiesFromData(t,e,s,i){const r="_source",n="P:"+e;let a=!!(e&&t[r]&&t[r][n]&&t[r][n][s])&&(t[r][n].dat_raw||t[r][n][s]);return a&&"datField"===s&&(a=this.formatDates(a)),a=Array.isArray(a)?a.join(","):a,a?`${i}=${a}`:""},getUnderscorePropertiesFromData(t,e){const s="_source",i=e.substring(1),r={"Modification date":t[s]["P:29"]?this.formatDates(t[s]["P:29"].dat_raw):"",page:[t[s].subject.title],image:[t[s].file_path],namespacename:[t[s].subject.namespacename],snippet:this.sanitizeSnippet(this.getSnippets(t)),title:[this.getTitle(t)]},n=Array.isArray(r[i])?r[i].join(","):r[i]||"";return n?`${e}=${n}`:""},getTitle(t){const{configTitle:e}=this,s="_source",i=e?"P:"+e.key:"";return e&&e.key&&t[s][i]&&t[s][i][e.type]?t[s][i][e.type][0]:t[s].subject.title},sanitize(t){const e=/{@@_HIGHLIGHT_@@/g,s=/@@_HIGHLIGHT_@@}/g;return t.replace(e,'</nowiki><b class="wikisearch-term-highlight"><nowiki>').replace(s,"</nowiki></b><nowiki>")},sanitizeSnippet(t){return t?Array.isArray(t)?t.map(t=>`<nowiki>${this.sanitize(t)}</nowiki>`):`<nowiki>${this.sanitize(t)}</nowiki>`:""},getSnippets(t){return t.highlight?Object.values(t.highlight).flat():[]},formatDates(t){return t.map(t=>{const[,e,s,i]=t.split("/"),r=mw.config.values.wgMonthNames[s];return`${i} ${r}, ${e}`})},apiResult(t){t.parse&&(this.result=t.parse.text["*"],this.loading=!1)},parseTemplate(){this.loading=!0;const t={action:"parse",text:this.parse,format:"json",wrapoutputclass:"wikisearch-wiki-template__output",disablelimitreport:!0,disabletoc:!0};this.$store.dispatch("doApiCall",{actions:{params:t,component:this}})}}},$e=xe,Ee=(s("dea9"),R($e,we,Se,!1,null,null,null)),Ce=Ee.exports,Te=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-result-calendar"},[e("div",{staticClass:"wikisearch-result-calendar__year"},t._l(12,(function(s){return e("div",{key:"month-"+s,staticClass:"wikisearch-result-calendar__month"},[e("div",{staticClass:"wikisearch-result-calendar__month-header"},[t._v(" "+t._s(t.months[s])+" ")]),e("div",{staticClass:"wikisearch-result-calendar__month-results"},t._l(t.getHit(s),(function(s){return e("div",{key:"cal-hit-"+s["_id"],staticClass:"wikisearch-result-calendar__result",class:t.resultClass(s)},t._l(t.computedHitSettings,(function(t,i){return e("wikisearch-result-property",{key:"hit-"+i,attrs:{label:i,config:t,data:s}})})),1)})),0)])})),0)])},De=[],Oe={name:"WikisearchResultsCalendarYear",components:{WikisearchResultProperty:ne},data(){return{config:mw.config.values.WikiSearchFront.config,months:mw.config.values.wgMonthNames,selectedCheckboxes:[],date:window.moment(),today:window.moment(),dialog:""}},computed:{time(){return console.log(this.$store.state.selected),this.$store.state.calendarDate||this.date},computedHitSettings(){const t=Object.keys(this.config.hitSettings).filter(t=>"$"===t.charAt(0));if(!t.length){const t={$title:{display:"link",label:"Page"}};return{...t,...this.config.hitSettings}}return this.config.hitSettings},computedPropertyKey(){const t=this.config.settings.calendar;return t&&t.key?"P:"+t.key:"P:29"}},methods:{resultClass(t){const e="_source",s=this.config.settings.calendar.color;if(s&&s.key&&s.type&&t[e]["P:"+s.key]){const i=t[e]["P:"+s.key][s.type][0];return"wikisearch-result-calendar__result--"+$(i)}return""},addZero(t){return 1===t.toString().length?"0"+t:t},getHit(t){const e="_source",s=this.$store.state.hits||[],i=s.filter(s=>{if(!s[e][this.computedPropertyKey]||!s[e][this.computedPropertyKey].dat_raw||!s[e][this.computedPropertyKey].dat_raw[0])return!1;const[,i,r]=s[e][this.computedPropertyKey].dat_raw[0].split("/");return t===parseInt(r,10)&&i===this.time.format("YYYY")&&s});return i[0]?i:[]}}},Me=Oe,Ae=(s("05a0"),R(Me,Te,De,!1,null,null,null)),je=Ae.exports,Pe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-calendar-tools"},[e("div",{staticClass:"wikisearch-calendar-tools__month"},["month"===t.view?e("wikisearch-dropdown",{attrs:{items:t.monthItems,value:t.monthValue},on:{select:t.onMonthSelect}}):t._e(),"year"===t.view?e("wikisearch-dropdown",{attrs:{items:t.yearItems,value:t.yearValue},on:{select:t.onYearSelect}}):t._e(),e("wikisearch-button",{attrs:{icon:"back",type:"icon"},on:{click:function(e){return t.changeDate(-1)}}}),e("wikisearch-button",{attrs:{icon:"next",type:"icon"},on:{click:function(e){return t.changeDate(1)}}})],1),"month"===t.view?e("wikisearch-dropdown",{attrs:{items:t.yearItems,value:t.yearValue},on:{select:t.onYearSelect}}):t._e()],1)},Re=[],Ie={name:"WikisearchCalendarTools",components:{WikisearchButton:U,WikisearchDropdown:Dt},props:{outertime:{type:Object,default(){return{}}}},data(){return{date:this.outertime,change:0,config:mw.config.values.WikiSearchFront.config}},computed:{view(){return!this.config.settings.calendar||this.config.settings.calendar&&"year"!==this.config.settings.calendar.display?"month":"year"},time(){return console.log(this.change),this.$store.state.calendarDate||this.date},yearValue(){const t=parseInt(this.time.format("YYYY"),10);return{label:t,data:t}},monthValue(){return{label:this.time.format("MMMM"),data:this.time.format("M")-1}},yearItems(){const t=parseInt(this.date.format("Y"),10)+2;return[...Array(10)].map((e,s)=>({data:t-s,label:t-s}))},monthItems(){return window.moment.months().map((t,e)=>({label:t,data:e}))},computedPropertyKey(){const t=this.config.settings.calendar;return t&&t.name?t.name:"Modification date"}},watch:{time(t){this.commitRange(t),this.$emit("change",t)}},mounted(){console.log("mounted",this.date),this.commitRange(this.date)},methods:{onMonthSelect(t){this.date=this.time.set("month",t.data),this.$store.commit("SET_CALENDAR_DATE",this.date),this.change+=1},onYearSelect(t){this.date=this.time.set("year",t.data),this.$store.commit("SET_CALENDAR_DATE",this.date),this.change+=1},changeDate(t){this.date="year"===this.view?this.time.add(t,"years"):this.time.add(t,"months"),this.$store.commit("SET_CALENDAR_DATE",this.date),this.change+=1},commitRange(t){const e="year"===this.view?t.clone().startOf("year"):t.clone().startOf("month").startOf("week"),s="year"===this.view?t.clone().endOf("year"):t.clone().endOf("month").endOf("week"),i={key:this.computedPropertyKey,value:"Calendar",range:{gte:this.julian(e),lte:this.julian(s)}},{realDates:r}=this.$store.state;r.Calendar={from:e.format("YYYY-MM-DD"),to:s.format("YYYY-MM-DD")},this.$store.commit("SET_REAL_DATES",r),console.log(i);const n=this.$store.state.selected.filter(t=>t.key!==this.computedPropertyKey&&"Calendar"!==t.value);n.push(i),this.$store.commit("SET_SELECTED",n),console.log(n)},julian(t){return parseInt(t/864e5+2440587.5,10)}}},Le=Ie,Ye=(s("41c0"),R(Le,Pe,Re,!1,null,null,null)),Fe=Ye.exports,We=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-daterange"},[e("div",{staticClass:"wikisearch-filter__label"},[e("label",[t._v(t._s(t.labelName))])]),t._v(" "+t._s(t.$i18n("wikisearchfront-date-range-from"))+" "),e("wikisearch-date-input",{attrs:{name:"from"},on:{change:t.updateRange}}),t._v(" "+t._s(t.$i18n("wikisearchfront-date-range-to"))+" "),e("wikisearch-date-input",{attrs:{name:"to"},on:{change:t.updateRange}}),t.showCheckbox?e("facet-checbox",{attrs:{agg:t.agg,index:0,name:t.name}}):t._e()],1)},ze=[],Ne=function(){var t=this,e=t._self._c;return e("wikisearch-checkbox",{attrs:{id:t.createID,value:t.val,checked:t.checked},on:{change:t.updateSelection},scopedSlots:t._u([{key:"slot",fn:function(){return[e("span",[e("span",{staticClass:"wikisearch-checkbox__label"},[t._v(" "+t._s(t.title)+" ")]),t.agg.doc_count>0?e("span",{staticClass:"wikisearch-checkbox__count",attrs:{title:"count"}},[t._v(" "+t._s(t.agg.doc_count)+" ")]):t._e()])]},proxy:!0}])})},Ve=[],qe={name:"FacetCheckbox",components:{WikisearchCheckbox:Ft},props:{agg:{type:Object,default(){return{}}},name:{type:String,default:""},index:{type:Number,default:0}},computed:{checked(){let t=!1;const e=this.$store.state.selected;return e.forEach(e=>{e.key===this.val.key&&e.value===this.val.value&&(t=!0)}),!!t},modelSelected:{set(t){this.$store.commit("SET_SELECTED",t)},get(){return this.$store.state.selected}},labelClass(){let t="";const{selected:e}=this.$store.state;let s=this.agg.key_as_string?this.agg.key_as_string:this.agg.key;const i=e.filter(t=>t.value===this.agg.key||this.agg.key_as_string&&t.value===this.agg.key_as_string);return i.length&&(t=" wikisearch--checkbox-selected"),s||(s="_"),`wikisearch--checkbox__${$(this.name)}--${$(s)}${t}`},title(){let t="";return t=this.agg.name?this.agg.name:this.agg.key_as_string?mw.message("wikisearchfront-"+this.agg.key_as_string).text():this.agg.key,t},createID(){let t=this.agg.key_as_string?this.agg.key_as_string:this.agg.key;return t||(t="_"),`${$(this.name)}--${$(t)}`},show(){return"no"!==this.agg.show&&this.agg.doc_count>0},val(){let t="";const e=this.agg.key_as_string?this.agg.key_as_string:this.agg.key;return this.agg.to?(console.log("hhh",this.agg),t={value:this.agg.key,key:this.name,range:{gte:Number(this.agg.from+".0000000"),lte:Number(this.agg.to+".0000000")}},this.agg.name&&(t.name=this.agg.name)):(t={value:e,key:this.name},this.agg.name&&(t.name=this.agg.name),this.agg.key_as_string&&(t.name=mw.message("wikisearchfront-"+this.agg.key_as_string).text()),this.agg.type&&(t.type=this.agg.type)),t}},mounted(){const{selected:t}=this.$store.state;t.length>0&&this.agg.key_as_string&&t.forEach((e,s)=>{e.key!==this.name||t[s].name||(t[s].name=mw.message("wikisearchfront-"+t[s].value).text(),c.a.set(this.$store.state.selected,s,t[s]))})},methods:{updateSelection(t){const e=[];let s=!1;const i=this.$store.state.selected;i.forEach(i=>{i.key===t.key&&i.value===t.value?s=!0:e.push(i)}),s||e.push(t),this.$store.commit("SET_SELECTED",e)}}},He=qe,Be=(s("d625"),R(He,Ne,Ve,!1,null,null,null)),Ue=Be.exports,Ge=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-date-input"},[e("wikisearch-input",{attrs:{value:t.time.format("D MMM YYYY")},on:{focus:function(e){t.focused=!0},blur:function(e){t.focused=!1},click:function(e){t.focused=!0,t.justSelected=!1}}}),t.focused&&!t.justSelected?e("div",{staticClass:"wikisearch-date-input__list-box",attrs:{role:"listbox"},on:{mousedown:function(e){return e.preventDefault(),t.onItemMousedown.apply(null,arguments)},click:function(e){t.focused=!0}}},[e("div",{staticClass:"wikisearch-date-input__tools"},[e("wikisearch-button",{attrs:{icon:"back",type:"icon"},on:{click:function(e){return t.setMonth(-1)}}}),e("wikisearch-button",{attrs:{icon:"up",label:t.time.format("MMMM")+" "+t.time.format("YYYY")},on:{click:t.changeDisplay}}),e("wikisearch-button",{attrs:{icon:"next",type:"icon"},on:{click:function(e){return t.setMonth(1)}}})],1),"years"===t.display?e("div",{staticClass:"wikisearch-date-input__years"},t._l(t.years,(function(s,i){return e("div",{key:"year-"+i,staticClass:"wikisearch-date-input__year",class:{"wikisearch-date-input__year--active":s===t.yearValue},on:{click:function(e){t.time.set("year",s),t.change+=1,t.activeDisplay=1}}},[t._v(" "+t._s(s)+" ")])})),0):t._e(),"months"===t.display?e("div",{staticClass:"wikisearch-date-input__months"},t._l(t.months,(function(s,i){return e("div",{key:"month-"+i,staticClass:"wikisearch-date-input__month",class:{"wikisearch-date-input__month--active":s===t.monthValue},on:{click:function(e){t.time.set("month",i),t.change+=1,t.activeDisplay=0}}},[t._v(" "+t._s(s)+" ")])})),0):t._e(),"days"===t.display?e("div",{staticClass:"wikisearch-date-input__days"},[e("div",{staticClass:"wikisearch-date-input__days-header"},t._l(t.calendar[0].days,(function(s,i){return e("div",{key:"header-"+i,staticClass:"wikisearch-date-input__days-header-item"},[t._v(" "+t._s(s.format("dd"))+" ")])})),0),t._l(t.calendar,(function(s,i){return e("div",{key:"week-"+i,staticClass:"wikisearch-date-input__week"},t._l(s.days,(function(s,r){return e("div",{key:"day-"+i+r,staticClass:"wikisearch-date-input__day",class:{"wikisearch-date-input__day--active":s.format("YYYY-MM-DD")===t.time.format("YYYY-MM-DD"),"wikisearch-date-input__day--other-month":s.format("M")!==t.time.format("M"),"wikisearch-date-input__day--disabled":!!t.disabledDirection&&t.operators[t.disabledDirection](s,t.moment(t.disabledDate))},on:{click:function(e){t.date=s,t.justSelected=!0}}},[t._v(" "+t._s(s.format("D"))+" ")])})),0)}))],2):t._e()]):t._e()],1)},Ke=[],Ze={name:"WikisearchDateInput",components:{WikisearchButton:U,WikisearchInput:z},props:{name:{type:String,default:""},items:{type:Array,default(){return[]}},value:{type:String,default:""},disabledDirection:{type:String,default:""},disabledDate:{type:String,default:""},selected:{type:Array,default(){return[]}}},data(){return{selectedItems:this.selected,moment:window.moment,date:window.moment(),change:0,activeDisplay:0,displays:["days","months","years"],operators:{before:(t,e)=>t.format("YYYYMMDD")>e.format("YYYYMMDD"),after:(t,e)=>t.format("YYYYMMDD")<e.format("YYYYMMDD")},displayYear:"",focused:!1,justSelected:!1}},computed:{time(){return console.log(this.change),this.date},display(){return this.displays[this.activeDisplay]},yearValue(){return parseInt(this.time.format("YYYY"),10)},monthValue(){return this.time.format("MMMM")},years(){const t=parseInt(this.time.format("Y"),10),e=this.displayYear?this.displayYear:t-t%10;return[...Array(20)].map((t,s)=>e+s)},months(){return this.moment.months()},calendar(){const t=[],e=this.time,s=e.clone().startOf("month").startOf("week"),i=e.clone().endOf("month").endOf("week"),r=s.clone().subtract(1,"day");while(r.isBefore(i,"day"))t.push({days:Array(7).fill(0).map(()=>r.add(1,"day").clone())});return t}},watch:{time(t){this.$emit("change",t,this.name)},value(t){this.date=window.moment(t)}},mounted(){this.value&&(this.date=window.moment(this.value))},methods:{itemClasses(t){return{"wikisearch-list-box__item--selected":!!this.selectedItems.filter(e=>e.data===t.data).length}},changeDisplay(){this.activeDisplay=2===this.activeDisplay?0:this.activeDisplay+1},setMonth(t){"years"!==this.display?(this.date=this.time.add(t,"months"),this.change+=1):this.displayYear=this.years[0]+20*t},onItemMousedown(){const t=()=>{document.documentElement.removeEventListener("mouseup",t)};document.documentElement.addEventListener("mouseup",t)}}},Je=Ze,Xe=(s("8e87"),R(Je,Ge,Ke,!1,null,null,null)),Qe=Xe.exports,ts={name:"FacetDateRange",components:{"facet-checbox":Ue,WikisearchDateInput:Qe},props:{label:{type:String,default:""},name:{type:String,default:""}},data(){return{from:0,to:0}},computed:{labelName(){return this.label||this.name.replace("_"," ")},showCheckbox(){return!(!this.$store.getters.rangeFrom||!this.$store.getters.rangeTo)},agg(){return{key:"customrange",from:this.$store.getters.rangeFrom,to:this.$store.getters.rangeTo,doc_count:1}}},mounted(){},methods:{updateRange(t,e){if(this[e]=t.format("YYYY-MM-DD"),!this.from||!this.to)return;this.$store.commit("SET_RANGE_"+e,u(this[e])+1);let s=this.$store.state.realDates;if(this.$store.state.rangeTo>0){s={customrange:{from:this.from,to:this.to}};const t=this.$store.state.selected;this.$store.commit("SET_REAL_DATES",s),Object.keys(this.$store.state.selected).forEach((s,i)=>{if(this.$store.state.selected&&this.$store.state.selected[i]&&"customrange"===this.$store.state.selected[i].value){let s="";s="from"===e?"gte":"lte",t[i].range[s]=Number(this.$store.state[`range${e.charAt(0).toUpperCase()}${e.slice(1)}`]+".0000000"),this.$store.commit("SET_SELECTED",t)}})}},dateInputs(){const{state:t}=this.$store,e=this,s={},i={},r=["from","to"];r.forEach(r=>{i[r]=new mw.widgets.DateInputWidget,t.realDates.customrange&&i[r].setValue(t.realDates.customrange[r]),i[r].on("change",()=>{s[r]=i[r].getValue(),i.to.mustBeAfter=s.from,i.from.mustBeBefore=s.to,e.$store.commit("SET_RANGE_"+r,u(s[r])+1);let n=t.realDates;if(t.rangeTo>0){n={customrange:{from:s.from,to:s.to}};const i=t.selected;e.$store.commit("SET_REAL_DATES",n),Object.keys(t.selected).forEach((s,n)=>{if(t.selected&&t.selected[n]&&"customrange"===t.selected[n].value){let s="";s="from"===r?"gte":"lte",i[n].range[s]=Number(t[`range${r.charAt(0).toUpperCase()}${r.slice(1)}`]+".0000000"),e.$store.commit("SET_SELECTED",i)}})}}),document.querySelector("#dateinput"+r).appendChild(i[r].$element[0])})}}},es=ts,ss=(s("08fc"),R(es,We,ze,!1,null,null,null)),is=ss.exports,rs=function(){var t=this,e=t._self._c;return e("div",{class:`wikisearch-filter\n     wikisearch-slider\n     wikisearch-slider__${t.strip(t.name)}\n     wikisearch-slider__${t.strip(t.name)}--${t.realVal}`,style:`--slider-val:${t.realVal};--slider-val2:${t.realVal2}`},[e("span",{staticClass:"wikisearch-filter__label"},[e("label",[t._v(" "+t._s(t.name.replace(/_/g," "))+" ")])]),e("transition",{attrs:{name:"slide"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSelected,expression:"isSelected"}],staticClass:"wikisearch-filter-values"},[e("span",{staticClass:"wikisearch-filter-value1"},[t._v(t._s(t.slideVal))]),e("span",{staticClass:"wikisearch-filter-value2"},[t._v(t._s(t.slideVal2))])])]),e("div",{staticClass:"wikisearch-slider-input",class:t.sliderActiveClass},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.modalVal,expression:"modalVal"}],attrs:{type:"range",max:t.max},domProps:{value:t.modalVal},on:{__r:function(e){t.modalVal=e.target.value}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.modalVal2,expression:"modalVal2"}],attrs:{type:"range",max:t.max},domProps:{value:t.modalVal2},on:{__r:function(e){t.modalVal2=e.target.value}}}),e("span",{staticClass:"wikisearch-slider-input-icon"})]),e("facet-checbox",{attrs:{name:t.name,agg:t.agg,index:0}})],1)},ns=[],as={name:"FacetRangeSlider",components:{"facet-checbox":Ue},props:{name:{type:String,default:""}},data(){return{slideVal:0,slideVal2:0,facetSettings:mw.config.values.WikiSearchFront.config.facetSettings}},computed:{sliderActiveClass(){return this.isSelected?"":"wikisearch-slider__inactive"},isSelected(){const{selected:t}=this.$store.state;return t.filter(t=>t.value===this.name).length},max(){return this.facetSettings[this.name].max},modalVal2:{set(t){this.slideVal2=t;const{selected:e}=this.$store.state;Object.keys(e).forEach((t,s)=>{e&&e[s]&&e[s].value===this.name&&(e[s].range={gte:this.slideVal,lte:this.slideVal2},this.$store.commit("SET_SELECTED",e))})},get(){return this.slideVal2}},modalVal:{set(t){this.slideVal=t;const{selected:e}=this.$store.state;Object.keys(e).forEach((t,s)=>{e&&e[s]&&e[s].value===this.name&&(e[s].range={gte:this.slideVal,lte:this.slideVal2},this.$store.commit("SET_SELECTED",e))})},get(){return this.slideVal}},realVal(){return 100/this.max*this.slideVal},realVal2(){return 100/this.max*this.slideVal2},agg(){return{key:this.name,from:this.slideVal,to:this.slideVal2,doc_count:1}}},mounted(){this.slideVal2=Math.round(this.max/2)},methods:{strip(t){return $(t)}}},os=as,cs=(s("f000"),R(os,rs,ns,!1,null,null,null)),ls=cs.exports,us=function(){var t=this,e=t._self._c;return t.buckets.length?e("div",{class:"wikisearch-filter\n     wikisearch-combobox\n     wikisearch-filter--"+t.strip(t.name)},[e("span",{staticClass:"wikisearch-filter__label"},[e("label",[t._v(" "+t._s(t.filterName)+" ")])]),e("div",{staticClass:"wikisearch-combobox__selected"},t._l(t.pils,(function(s,i){return e("wikisearch-pill",{key:i,attrs:{data:s,label:s.name},on:{click:t.deselect}})})),1),e("div",{staticClass:"wikisearch-combobox__wrapper"},[e("wikisearch-input",{attrs:{pending:t.pending,value:t.term,clearable:!0,placeholder:t.filterName,role:"combobox","aria-autocomplete":"list","aria-owns":t.strip(t.name)+"-list-box","aria-haspopup":"listbox","aria-expanded":t.focused?"true":"false"},on:{down:function(e){t.focused=!0,t.$refs.listBox.onDown()},up:function(e){return t.$refs.listBox.onUp()},enter:t.onEnter,input:t.searchAggs,focus:function(e){t.focused=!0},blur:function(e){t.focused=!1},click:function(e){t.focused=!0}}}),e("wikisearch-list-box",{directives:[{name:"show",rawName:"v-show",value:t.focused,expression:"focused"}],ref:"listBox",attrs:{id:t.strip(t.name)+"-list-box",items:t.sortedBuckets.map((t,e)=>({id:e,label:t.name||t.key,doc_count:t.doc_count,data:t.key,show:t.show,icon:t.icon})),selected:t.selection},on:{select:t.updateSelected},scopedSlots:t._u([{key:"menuItem",fn:function({item:s}){return[s.icon?e("wikisearch-icon",{staticClass:"wikisearch-combobox__option-icon",attrs:{icon:s.icon}}):t._e(),s.icon?e("span",[t._v(" "+t._s(t.$i18n("search"))+" "),e("b",[t._v(t._s(s.label))])]):e("span",[t._v(" "+t._s(s.label)+" ")]),t.noCount||s.icon?t._e():e("span",{staticClass:"wikisearch-combobox__doc-count"},[t._v(" "+t._s(s.doc_count)+" ")])]}}],null,!1,1145308393)})],1)]):t._e()},hs=[],ds={name:"FacetComboBox",components:{WikisearchPill:ht,WikisearchInput:z,WikisearchListBox:$t,WikisearchIcon:L},props:{name:{type:String,default:""},label:{type:String,default:""},buckets:{type:[Array,Object],default(){return{}}},pending:{type:Boolean,default:!1},noCount:{type:Boolean,default:!1}},data(){return{focused:!1,updatedBuckets:this.buckets,term:"",facetSettings:mw.config.values.WikiSearchFront.config.facetSettings}},computed:{filterName(){return this.label||this.name.replace("_"," ")},sortedBuckets(){let t=this.buckets;if(this.term){const e=new RegExp(this.term.replace("*",".*"),"ig");t=this.buckets.filter(t=>t.name?t.name.match(e):t.key.match(e))}let e="";return e=this.facetSettings[this.name]&&"alphabetically"===this.facetSettings[this.name].sort?t.sort((t,e)=>{const s=t.key.toUpperCase(),i=e.key.toUpperCase();return s<i?-1:s>i?1:0}):t,this.term&&this.facetSettings[this.name].search&&e.unshift({doc_count:"z",key:this.term,icon:"search"}),"reverse"===this.facetSettings[this.name].order&&e.reverse(),e},pils(){const{selected:t}=this.$store.state;return t.filter(t=>t.key===this.name)},selection(){return this.pils.map(t=>({data:t.value}))}},methods:{onEnter(){const t=this.sortedBuckets[this.$refs.listBox.active].icon;this.focused&&!t&&this.$refs.listBox.setActiveAsSelected(),t&&this.search()},strip(t){return $(t)},search(){if(this.facetSettings[this.name]&&this.facetSettings[this.name].search){const t=this.$store.state.selected,e=t.filter(t=>t.key!==this.name);this.term&&e.push({key:this.name,value:this.term,type:"query"}),this.$store.commit("SET_SELECTED",e)}},updateSelected(t){if(console.log(t),t.icon)return void this.search();this.focused=!1,this.term="";const e=[];let s=!1;const i=this.$store.state.selected;i.forEach(i=>{i.key===this.name&&i.value===t.data?s=!0:e.push(i)}),s||e.push({key:this.name,value:t.data,name:t.label}),this.$store.commit("SET_SELECTED",e)},deselect(t){const e=this.$store.state.selected.filter(e=>e!==t);this.$store.commit("SET_SELECTED",e)},searchAggs(t){this.focused=!0,this.term=t,this.$emit("input",this.term)},clearInput(){this.term=""}}},fs=ds,ps=(s("858b"),R(fs,us,hs,!1,null,null,null)),ms=ps.exports,gs=function(){var t=this,e=t._self._c;return e("facet-combobox",{attrs:{pending:t.pending,"no-count":"",buckets:t.buckets,name:t.name,label:t.label},on:{input:t.ask,search:t.search}})},ys=[],vs={name:"FacetAskCombobox",components:{"facet-combobox":ms},props:{name:{type:String,default:""},label:{type:String,default:""},query:{type:String,default:""},queryData:{type:String,default:""},queryText:{type:String,default:""}},data(){return{pending:!1,buckets:[{doc_count:1,key:"",show:"no"}],facetSettings:mw.config.values.WikiSearchFront.config.facetSettings}},mounted(){const{selected:t}=this.$store.state;t.forEach(t=>{t.key&&t.key===this.name&&"query"!==t.type&&this.ask(t.value,"initial")})},methods:{apiResult(t){this.pending=!1;const e=this.queryText,s=[],{selected:i}=this.$store.state,r=i.map(t=>{let e=!1;return t.key&&t.key===this.name&&(s.push(t.value),e={key:t.value,doc_count:1},t.name&&(e.name=t.name),"query"===t.type&&(e.type="query",e.show="no")),e}).filter(t=>t);Object.entries(t.query.results).forEach(([t,n])=>{let a=this.queryData?n.printouts[this.queryData]:n.fulltext;if(a){Array.isArray(a)&&(a=a[0].fulltext||a[0]);const o={doc_count:1,key:a,page:t};if(e&&n.printouts[e]){const t=n.printouts[e];o.name=t[0].fulltext||t[0],i.forEach((t,e)=>{t.key&&t.key===this.name&&t.value&&t.value===a&&(i[e].name=o.name,"query"===t.type&&(i[e].type="query"),c.a.set(this.$store.state.selected,e,i[e]),r[e]&&(r[e].name=o.name))})}s.includes(a)||r.push(o)}}),r.length>0?(console.log(r),this.buckets=r):this.buckets=[{doc_count:1,key:"",show:"no"}]},search(t){if(this.facetSettings[this.name]&&this.facetSettings[this.name].search){const e=this.$store.state.selected,s=e.filter(t=>t.key!==this.name);t&&(this.buckets.push({key:t,doc_count:1,type:"query",show:"no"}),s.push({key:this.name,value:t,type:"query"})),this.$store.commit("SET_SELECTED",s)}},ask(t,e){this.pending=!0;const s=this.queryData,i=this.queryText,r=i||e?`|?${s}|?${i}`:"|?"+s,n=i&&!e?i:s,a=`${this.query}[[${n}::in:${t}]]${r}`;console.log(a);const o={action:"ask",query:a,format:"json",formatversion:2};this.$store.dispatch("doApiCall",{actions:{params:o,component:this}})}}},_s=vs,ks=R(_s,gs,ys,!1,null,null,null),bs=ks.exports,ws=function(){var t=this,e=t._self._c;return e("facet-combobox",{attrs:{pending:t.pending,buckets:t.buckets,"no-count":"false"===t.facetSettings[t.name].count,name:t.name,label:t.label},on:{input:t.ask,search:t.search}})},Ss=[],xs={name:"FacetElasticCombobox",components:{"facet-combobox":ms},props:{name:{type:String,default:""},label:{type:String,default:""}},data(){return{pending:!1,buckets:[{doc_count:1,key:"",show:"no"}],facetSettings:mw.config.values.WikiSearchFront.config.facetSettings}},mounted(){const{selected:t}=this.$store.state;t.forEach(t=>{t.key&&t.key===this.name&&"query"!==t.type&&this.ask(t.value)})},methods:{apiResult(t){this.pending=!1,this.buckets=t.result.length?t.result:[{doc_count:1,key:"",show:"no"}]},search(t){if(this.facetSettings[this.name]&&this.facetSettings[this.name].search){const e=this.$store.state.selected,s=e.filter(t=>t.key!==this.name);t&&(this.buckets.push({key:t,doc_count:1,type:"query",show:"no"}),s.push({key:this.name,value:t,type:"query"})),this.$store.commit("SET_SELECTED",s)}},ask(t){this.pending=!0;const e={action:"query",meta:"WikiSearchCombobox",pageid:mw.config.values.wgArticleId,filter:JSON.stringify(k(this.$store.state)),search_term:f(this.$store.state.term),property:this.name,term:f(t),format:"json",formatversion:2};this.$store.dispatch("doApiCall",{actions:{params:e,component:this}})}}},$s=xs,Es=R($s,ws,Ss,!1,null,null,null),Cs=Es.exports,Ts=function(){var t=this,e=t._self._c;return e("div",{class:"wikisearch-filter wikisearch-filter--"+t.strip(t.name),attrs:{role:"group","aria-labelledby":"filter__label--"+t.strip(t.name)}},[t.strippedBuckets.length||"date"===t.type?e("span",{staticClass:"wikisearch-filter__label"},[e("label",{attrs:{id:"filter__label--"+t.strip(t.name)}},[t._v(" "+t._s(t.cleanName)+" ")])]):t._e(),e("div",{staticClass:"wikisearch-filter__options"},[t._l(t.bucketsToShow,(function(s,i){return e("facet-checkbox",{directives:[{name:"show",rawName:"v-show",value:i<t.collapsed||t.open,expression:"i < collapsed || open"}],key:i+s.key+t.name,attrs:{agg:s,index:i,name:t.name}})})),"date"===t.type?e("div",{staticClass:"wikisearch-filter__custom-date"},[e("facet-checkbox",{attrs:{agg:{from:t.createDate(t.customDates.from),to:t.createDate(t.customDates.to),doc_count:4,key:"customrange",name:t.customDateRangeLabel},index:999,name:t.name}}),e("div",{staticClass:"wikisearch-date-input-container"},[e("wikisearch-date-input",{attrs:{"disabled-direction":"before","disabled-date":t.customDates.to,value:t.customDates.from},on:{change:function(e){return t.setCustomDate(e,"from")}}}),e("wikisearch-date-input",{attrs:{"disabled-direction":"after","disabled-date":t.customDates.from,value:t.customDates.to},on:{change:function(e){return t.setCustomDate(e,"to")}}})],1)],1):t._e(),t.strippedBuckets.length>t.collapsed?e("wikisearch-button",{staticClass:"wikisearch-filter__button",attrs:{icon:t.open?"up":"down",label:t.$i18n("wikisearchfront-"+t.lessOrMore)},on:{click:function(e){t.open=!t.open}}}):t._e()],2)])},Ds=[],Os={name:"FacetFilter",components:{FacetCheckbox:Ue,WikisearchButton:U,WikisearchDateInput:Qe},props:{name:{type:String,default:""},label:{type:String,default:""},valueLabels:{type:String,default:""},buckets:{type:[Array,Object],default(){return{}}},translation:{type:String,default:""},query:{type:String,default:""},type:{type:String,default:""}},data(){return{open:!1,config:mw.config.values.WikiSearchFront.config,translations:"",strippedBuckets:"",bucketsToShow:"",fired:!1,customDates:{from:"",to:""}}},computed:{customDateRangeLabel(){const t="D MMM YYYY";return`${window.moment(this.customDates.from).format(t)} - ${window.moment(this.customDates.to).format(t)}`},collapsed(){return this.config.settings.facets?parseInt(this.config.settings.facets,10):5},propChange(){return this.buckets},cleanName(){return this.label||this.name.replace(/_/g," ")},lessOrMore(){return this.open?"less":"more"}},watch:{propChange(){this.organize()}},mounted(){const{selected:t,realDates:e}=this.$store.state,s=t.filter(t=>t.key===this.name&&"customrange"===t.value);if(s.length&&(this.customDates={to:e.customrange.to,from:e.customrange.from}),s.length||(this.customDates={from:window.moment().subtract(1,"days").format("YYYY-MM-DD"),to:window.moment().format("YYYY-MM-DD")}),this.translation){const t={action:"ask",query:`${this.query}|limit=500|?${this.translation}`,format:"json",formatversion:2};this.$store.dispatch("doApiCall",{actions:{params:t,component:this}})}else this.organize()},methods:{readableDate(t){return h(t)},createDate(t){return u(t)},setCustomDate(t,e){const{selected:s,realDates:i}=this.$store.state;this.customDates[e]=t.format("YYYY-MM-DD");const r={...i,customrange:this.customDates};this.$store.commit("SET_REAL_DATES",r);const n=s.filter(t=>t.key===this.name);if(n.length){const t=s.map(t=>t.key===this.name?{key:this.name,range:{gte:this.createDate(this.customDates.from),lte:this.createDate(window.moment(this.customDates.to).add(1,"days").format("YYYY-MM-DD"))},value:"customrange",name:this.customDateRangeLabel}:t);this.$store.commit("SET_SELECTED",t)}},apiResult(t){t.query&&(this.translations=t.query.results,this.organize())},organize(){let t=[];const{selected:e}=this.$store.state;if(t=Array.isArray(this.buckets)?this.buckets:Object.entries(this.buckets).map(t=>{const e=t[1];return[e.key]=t,e}),t=t?t.filter(t=>t.doc_count>0):[],"date"===this.type)t.reverse();else if(this.config.facetSettings[this.name]&&"alphabetically"===this.config.facetSettings[this.name].sort)t.sort((t,e)=>{const s=t.key_as_string?t.key_as_string.toUpperCase():t.key.toUpperCase(),i=e.key_as_string?e.key_as_string.toUpperCase():e.key.toUpperCase();return s<i?-1:s>i?1:0});else if(this.config.facetSettings[this.name]&&"alphanumeric"===this.config.facetSettings[this.name].sort){const e=/[^a-zA-Z]/g,s=/[^0-9]/g;t.sort((t,i)=>{const r=t.key_as_string?t.key_as_string.toUpperCase():t.key.toUpperCase(),n=i.key_as_string?i.key_as_string.toUpperCase():i.key.toUpperCase(),a=r.split(" ")[0].replace(e,""),o=n.split(" ")[0].replace(e,"");if(a===o){const t=parseInt(r.replace(s,""),10),e=parseInt(n.replace(s,""),10);return t===e?0:t>e?1:-1}return a>o?1:-1})}if("reverse"===this.config.facetSettings[this.name].order&&t.reverse(),this.translation&&t.forEach((e,s)=>{const i=this.translations[e.key];i&&i.printouts[this.translation]&&(i.printouts[this.translation][0].fulltext?(console.log("translation:",this.translation),t[s].name=i.printouts[this.translation][0].fulltext):[t[s].name]=i.printouts[this.translation])}),e.length>0&&!this.fired?(e.forEach((t,s)=>{if(this.translation){const i=this.translations[t.value];i&&i.printouts[this.translation]&&(i.printouts[this.translation][0].fulltext?e[s].name=i.printouts[this.translation][0].fulltext:[e[s].name]=i.printouts[this.translation],c.a.set(this.$store.state.selected,s,e[s]))}const i=!!this.config.facetSettings[e[s].key]&&this.config.facetSettings[e[s].key];if(i){const{valueLabel:t}=this.config.facetSettings[e[s].key];e[s].name=t}c.a.set(this.$store.state.selected,s,e[s])}),this.fired=!0):this.fired=!0,this.$store.state.valueLabelMap){const e=this.$store.state.valueLabelMap;e[this.name]&&t.forEach((s,i)=>{t[i].name=e[this.name][s.key]})}this.strippedBuckets=t;const{value:s}=this.config.facetSettings[this.name];if(s){const{valueLabel:t}=this.config.facetSettings[this.name],e={key:s,doc_count:0,show:"yes"};t&&(e.name=t),this.strippedBuckets=[e]}this.bucketsToShow=this.strippedBuckets},strip(t){return $(t)}}},Ms=Os,As=(s("5550"),R(Ms,Ts,Ds,!1,null,null,null)),js=As.exports,Ps=function(){var t=this,e=t._self._c;return e("div",{class:"wikisearch-filter wikisearch-filter--"+t.strip(t.name),attrs:{role:"group","aria-labelledby":"filter__label--"+t.strip(t.name)}},[e("span",{staticClass:"wikisearch-filter__label"},[e("label",{attrs:{id:"filter__label--"+t.strip(t.name)}},[t._v(" "+t._s(t.cleanName)+" ")])]),e("div",{staticClass:"wikisearch-filter__options"},[e("label",{staticClass:"wikisearchfront-switch"},[e("input",{ref:"checkbox",staticClass:"wikisearchfront-switch__checkbox",attrs:{type:"checkbox"},domProps:{checked:t.isChecked},on:{change:t.updateSwitched}}),e("span",{staticClass:"wikisearchfront-switch__slider"})])])])},Rs=[],Is={name:"FacetSwitch",props:{name:{type:String,default:""},label:{type:String,default:""},settings:{type:Object,default(){return{}}}},computed:{cleanName(){return this.label||this.name.replace(/_/g," ")},isChecked(){return this.$store.state.switched[this.name]===this.settings.true||this.$store.state.switched[this.name]!==this.settings.false&&"true"===this.settings.default}},methods:{strip(t){return $(t)},updateSwitched(){const{switched:t}=this.$store.state;t[this.name]=this.$refs.checkbox.checked?this.settings.true:this.settings.false,this.$store.commit("SET_SWITCHED",t)}}},Ls=Is,Ys=(s("767d"),R(Ls,Ps,Rs,!1,null,null,null)),Fs=Ys.exports,Ws=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wikisearch-filter",class:"wikisearch-filter--"+t.strip(t.name),attrs:{"aria-disabled":"false"}},[e("div",{staticClass:"wikisearch-filter__label"},[e("label",[t._v(t._s(t.labelName))])]),e("div",{staticClass:"wikisearch-filter__wrapper"},[e("wikisearch-input",{attrs:{id:t.setID,clearable:!0,"start-icon":"search",placeholder:t.$i18n("search")},on:{enter:t.search,clear:t.clearTerm},model:{value:t.termTyped,callback:function(e){t.termTyped=e},expression:"termTyped"}})],1)])},zs=[],Ns={name:"FacetSearch",components:{WikisearchInput:z},props:{name:{type:String,default:""},label:{type:String,default:""}},data(){return{termClear:"",userHasTyped:!1}},computed:{labelName(){return this.label?this.label:this.name},setID(){return`${this.strip(this.name)}--${this.strip(this.termTyped)}`},termTyped:{set(t){this.termClear=t,this.userHasTyped=!0},get(){if(this.termClear||this.userHasTyped)return this.termClear;const t=this.$store.state.selected.filter(t=>t.key===this.name);return t.length?t[0].value:""}}},methods:{strip(t){return $(t)},filterSelected(){const{selected:t}=this.$store.state;return t.filter(t=>t.key!==this.name)},search(){const t=this.filterSelected();this.termTyped&&t.push({key:this.name,value:this.termTyped,type:"query"}),this.$store.commit("SET_SELECTED",t)},clearTerm(){const t=this.filterSelected();this.termTyped="",this.$store.commit("SET_SELECTED",t)}}},Vs=Ns,qs=R(Vs,Ws,zs,!1,null,null,null),Hs=qs.exports,Bs=function(){var t=this,e=t._self._c;return e("div",t._l(t.outputBuckets,(function(s,i){return e("div",{key:i,class:"wikisearch-filter"},[s.buckets.length?e("span",{staticClass:"wikisearch-filter__label"},[e("label",[t._v(" "+t._s(i)+" ")])]):t._e(),e("div",{staticClass:"wikisearch-filter__options"},[s.buckets.length>t.collapsed&&!t.open.includes(i)?[t._l(s.buckets.slice(0,t.collapsed),(function(s,i){return e("facet-checkbox",{key:i+s.key+t.name,attrs:{agg:s,index:i,name:t.name}})})),t._l(s.buckets.slice(t.collapsed,s.buckets.length),(function(s,i){return e("facet-checkbox",{key:i+s.key+t.name,staticStyle:{display:"none"},attrs:{agg:s,index:i,name:t.name}})}))]:t._l(s.buckets,(function(s,i){return e("facet-checkbox",{key:i+s.key+t.name,attrs:{agg:s,index:i,name:t.name}})})),s.buckets.length>t.collapsed?e("wikisearch-button",{staticClass:"wikisearch-filter__button",attrs:{icon:t.open.includes(i)?"up":"down",label:t.$i18n(t.open.includes(i)?"wikisearchfront-less":"wikisearchfront-more")},on:{click:function(e){return t.lessOrMore(i)}}}):t._e()],2)])})),0)},Us=[],Gs=(s("13d5"),s("9485"),{name:"FacetSorted",components:{FacetCheckbox:Ue,WikisearchButton:U},props:{name:{type:String,default:""},buckets:{type:[Array,Object],default(){return{}}},queryData:{type:String,default:""},query:{type:String,default:""},queryText:{type:String,default:""}},data(){return{open:[],facetSize:mw.config.values.WikiSearchFront.config.settings.facets,translations:""}},computed:{collapsed(){return this.facetSize?parseInt(this.facetSize,10):5},outputBuckets(){const t={},e=this.translations;this.buckets.forEach(s=>{e[s.key]&&(t[e[s.key]]?t[e[s.key]].buckets.push(s):t[e[s.key]]={buckets:[s]})});const s=Object.keys(t).sort().reduce((e,s)=>({...e,[s]:t[s]}),{});return s}},mounted(){const t={action:"ask",query:`${this.query}|limit=500|?${this.queryData}|?${this.queryText}`,format:"json",formatversion:2};this.$store.dispatch("doApiCall",{actions:{params:t,component:this}})},methods:{apiResult(t){const e=this.queryData.split("."),s=e[e.length-1],i={};let r="",n="";t.query&&Object.entries(t.query.results).forEach(t=>{const e=t[1];e.printouts&&e.printouts[this.queryText]&&e.printouts[s]&&(e.printouts[this.queryText][0]&&e.printouts[this.queryText][0].fulltext?r=e.printouts[this.queryText][0].fulltext:[r]=e.printouts[this.queryText],e.printouts[s][0]&&e.printouts[s][0].fulltext?n=e.printouts[s][0].fulltext:[n]=e.printouts[s],i[r]=n),this.translations=i})},lessOrMore(t){const e=this.open.indexOf(t);e>-1?this.open.splice(e,1):this.open.push(t)}}}),Ks=Gs,Zs=R(Ks,Bs,Us,!1,null,null,null),Js=Zs.exports,Xs={store:x,name:"App",components:{SearchInput:it,PillsSelected:mt,SortOrder:jt,WikisearchPagers:Ht,WikisearchButton:U,WikisearchCheckbox:Ft,WikisearchResults:le,WikisearchResultsTemplate:Ce,WikisearchResultsCalendar:be,WikisearchResultsCalendarYear:je,WikisearchCalendarTools:Fe,FacetCombobox:ms,FacetFilter:js,FacetSwitch:Fs,FacetAskCombobox:bs,FacetElasticCombobox:Cs,FacetSearch:Hs,FacetSorted:Js,FacetDateRange:is,FacetRangeSlider:ls},data(){return{config:mw.config.values.WikiSearchFront.config,openFilters:!0}},computed:{facetSettings(){return this.config.facetSettings},hitSettings(){return this.config.hitSettings},settings(){return this.config.settings},state(){return this.$store.state},themeClass(){return this.settings.theme?"wikisearch--theme-"+this.settings.theme:""},selectedClass(){return this.state.selected.map(t=>`wss-selected--${this.strip(t.key)}--${this.strip(t.value)}`).join(" ")},sortClass(){var t,e;return`wss-order--${this.strip(null!==(t=this.state.sortOrderType)&&void 0!==t?t:"score")}--${this.strip(null!==(e=this.state.sortOrder)&&void 0!==e?e:"desc")}`},showElement(){return"calendar"!==this.settings.layout},resultDisplay(){const t={calendar:this.settings.calendar&&"year"===this.settings.calendar.display?je:be,template:Ce,default:le};return t[this.settings.layout]||t.default},filters(){const t={combobox:ms,sorted:Js,search:Hs,switch:Fs,datepicker:is,"ask combobox":bs,"elastic combobox":Cs,slider:ls,default:js};return Object.fromEntries(Object.keys(this.facetSettings).map(e=>[e,{...this.state.aggs[e]&&this.state.aggs[e][e]?this.state.aggs[e][e]:{},component:t[this.facetSettings[e].display]||t.default}]))},resultCountText(){switch(this.state.total.relation){case"gte":return this.$i18n("wikisearchfront-total-gte",this.state.total.value);case"lte":return this.$i18n("wikisearchfront-total-lte",this.state.total.value);default:return this.$i18n("wikisearchfront-total-eq",this.state.total.value)}}},mounted(){this.$store.commit("START",!0)},methods:{strip(t){return $(t)},doAction(){if(this.state.selectedResults.length)if("page"===this.settings.action.type){const t="?props="+this.state.selectedResults.join(",");window.location=`${window.location.origin}/${this.settings.action.name}${t}`}else window[this.settings.action.name](this.state.selectedResults)},selectAll(){this.$store.commit("SET_SELECT_ALL_RESULTS",!this.state.selectAllResults)}}},Qs=Xs,ti=(s("0075"),R(Qs,n,a,!1,null,null,null)),ei=ti.exports;e["default"]=ei},fc6a:function(t,e,s){"use strict";var i=s("44ad"),r=s("1d80");t.exports=function(t){return i(r(t))}},fdbf:function(t,e,s){"use strict";var i=s("04f8");t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fe9a:function(t,e,s){}})["default"]}));